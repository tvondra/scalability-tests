+ set -e
+ LABEL=glibc-default
+ MACHINE=rpi5-32
+ DBNAME=test
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ PARTITIONS='1000 100 1 0'
+ BUILDS=/mnt/data/builds
+ SOURCE=/mnt/data/postgres
+ PATH_OLD=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
++ date +%Y%m%d-%H%M
+ DATE=20240730-1249
++ pwd
+ PATCHES=/mnt/data/lock-scalability-test/patches
++ pwd
+ LOGS=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs
++ pwd
+ RESULTS=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results
+ DATADIR=/mnt/data/data-test
+ ulimit -n 35000
+ for files in 1000 32768
+ for p in $PARTITIONS
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-32-1000-1000
+ env
++ date
+ echo Tue 30 Jul 12:49:47 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 12:49:47 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 191c036d3b fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-1000-1722340187
+ git checkout -b scalability-yes-32-1000-1000-1722340187
Switched to a new branch 'scalability-yes-32-1000-1000-1722340187'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-1000-1722340187 1c582b4fd1] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-1000-1722340187 63e2979605] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 12:50:22 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 12:50:22 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-32-1000-1000-1722340187 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000 1 10 '1 4 8' 1000
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-32-1000-1000-1722340187
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=32
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1000
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1000
+ [[ 1000 -ge 100000 ]]
+ DBNAME=index-1-1000
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1000'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1000
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1000
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-1000
+ psql index-1-1000 -c 'vacuum analyze'
+ psql index-1-1000 -c checkpoint
+ psql index-1-1000 -c '\d+'
+ psql index-1-1000 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/index.sql index-1-1000
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=6.286
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=159.093016
+ echo index rpi5-32 scalability-yes-32-1000-1000-1722340187 1000 yes 32 1 1000 simple 1 1 159.093016 6.286
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=10.212
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=391.687938
+ echo index rpi5-32 scalability-yes-32-1000-1000-1722340187 1000 yes 32 1 1000 simple 4 1 391.687938 10.212
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=19.091
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=419.039224
+ echo index rpi5-32 scalability-yes-32-1000-1000-1722340187 1000 yes 32 1 1000 simple 8 1 419.039224 19.091
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.057
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=17689.511873
+ echo index rpi5-32 scalability-yes-32-1000-1000-1722340187 1000 yes 32 1 1000 prepared 1 1 17689.511873 0.057
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.094
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=42755.455873
+ echo index rpi5-32 scalability-yes-32-1000-1000-1722340187 1000 yes 32 1 1000 prepared 4 1 42755.455873 0.094
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.161
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=49652.270046
+ echo index rpi5-32 scalability-yes-32-1000-1000-1722340187 1000 yes 32 1 1000 prepared 8 1 49652.270046 0.161
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-0-1000-1000
+ env
++ date
+ echo Tue 30 Jul 12:51:52 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 12:51:52 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 63e2979605 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-1000-1722340312
+ git checkout -b scalability-yes-0-1000-1000-1722340312
Switched to a new branch 'scalability-yes-0-1000-1000-1722340312'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-1000-1722340312 24ddd64565] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 12:52:28 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 12:52:28 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-0-1000-1000-1722340312 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000 1 10 '1 4 8' 1000
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-0-1000-1000-1722340312
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=0
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1000
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1000
+ [[ 1000 -ge 100000 ]]
+ DBNAME=index-1-1000
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1000'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1000
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1000
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-1000
+ psql index-1-1000 -c 'vacuum analyze'
+ psql index-1-1000 -c checkpoint
+ psql index-1-1000 -c '\d+'
+ psql index-1-1000 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/index.sql index-1-1000
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=6.606
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=151.373933
+ echo index rpi5-32 scalability-yes-0-1000-1000-1722340312 1000 yes 0 1 1000 simple 1 1 151.373933 6.606
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/index.sql index-1-1000
++ awk '{print $4}'
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
+ lat_avg=11.251
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=355.509909
+ echo index rpi5-32 scalability-yes-0-1000-1000-1722340312 1000 yes 0 1 1000 simple 4 1 355.509909 11.251
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=21.967
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=364.175772
+ echo index rpi5-32 scalability-yes-0-1000-1000-1722340312 1000 yes 0 1 1000 simple 8 1 364.175772 21.967
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.054
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18432.641803
+ echo index rpi5-32 scalability-yes-0-1000-1000-1722340312 1000 yes 0 1 1000 prepared 1 1 18432.641803 0.054
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.078
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=51426.719442
+ echo index rpi5-32 scalability-yes-0-1000-1000-1722340312 1000 yes 0 1 1000 prepared 4 1 51426.719442 0.078
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.167
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=47933.972621
+ echo index rpi5-32 scalability-yes-0-1000-1000-1722340312 1000 yes 0 1 1000 prepared 8 1 47933.972621 0.167
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-1-1000-1000
+ env
++ date
+ echo Tue 30 Jul 12:53:58 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 12:53:58 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 24ddd64565 NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-1000-1722340438
+ git checkout -b scalability-yes-1-1000-1000-1722340438
Switched to a new branch 'scalability-yes-1-1000-1000-1722340438'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-1000-1722340438 64749a2d4d] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-1000-1722340438 83b2d68737] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 12:54:33 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 12:54:33 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-1-1000-1000-1722340438 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000 1 10 '1 4 8' 1000
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-1-1000-1000-1722340438
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=1
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1000
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1000
+ [[ 1000 -ge 100000 ]]
+ DBNAME=index-1-1000
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1000'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1000
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1000
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-1000
+ psql index-1-1000 -c 'vacuum analyze'
+ psql index-1-1000 -c checkpoint
+ psql index-1-1000 -c '\d+'
+ psql index-1-1000 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/index.sql index-1-1000
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=6.649
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=150.397157
+ echo index rpi5-32 scalability-yes-1-1000-1000-1722340438 1000 yes 1 1 1000 simple 1 1 150.397157 6.649
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=11.508
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=347.583525
+ echo index rpi5-32 scalability-yes-1-1000-1000-1722340438 1000 yes 1 1 1000 simple 4 1 347.583525 11.508
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=21.691
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=368.816970
+ echo index rpi5-32 scalability-yes-1-1000-1000-1722340438 1000 yes 1 1 1000 simple 8 1 368.816970 21.691
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.059
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=17060.008306
+ echo index rpi5-32 scalability-yes-1-1000-1000-1722340438 1000 yes 1 1 1000 prepared 1 1 17060.008306 0.059
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.078
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=51001.282352
+ echo index rpi5-32 scalability-yes-1-1000-1000-1722340438 1000 yes 1 1 1000 prepared 4 1 51001.282352 0.078
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.168
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=47487.739460
+ echo index rpi5-32 scalability-yes-1-1000-1000-1722340438 1000 yes 1 1 1000 prepared 8 1 47487.739460 0.168
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-1024-1000-1000
+ env
++ date
+ echo Tue 30 Jul 12:56:03 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 12:56:03 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 83b2d68737 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-1000-1722340564
+ git checkout -b scalability-yes-1024-1000-1000-1722340564
Switched to a new branch 'scalability-yes-1024-1000-1000-1722340564'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-1000-1722340564 3be0aba318] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-1000-1722340564 912f7de5ac] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 12:56:39 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 12:56:39 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-1024-1000-1000-1722340564 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000 1 10 '1 4 8' 1000
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-1024-1000-1000-1722340564
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=1024
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1000
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1000
+ [[ 1000 -ge 100000 ]]
+ DBNAME=index-1-1000
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1000'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1000
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1000
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-1000
+ psql index-1-1000 -c 'vacuum analyze'
+ psql index-1-1000 -c checkpoint
+ psql index-1-1000 -c '\d+'
+ psql index-1-1000 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/index.sql index-1-1000
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=5.882
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=170.009623
+ echo index rpi5-32 scalability-yes-1024-1000-1000-1722340564 1000 yes 1024 1 1000 simple 1 1 170.009623 5.882
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=8.652
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=462.297406
+ echo index rpi5-32 scalability-yes-1024-1000-1000-1722340564 1000 yes 1024 1 1000 simple 4 1 462.297406 8.652
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=18.334
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=436.338110
+ echo index rpi5-32 scalability-yes-1024-1000-1000-1722340564 1000 yes 1024 1 1000 simple 8 1 436.338110 18.334
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.055
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18321.187925
+ echo index rpi5-32 scalability-yes-1024-1000-1000-1722340564 1000 yes 1024 1 1000 prepared 1 1 18321.187925 0.055
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/index.sql index-1-1000
++ awk '{print $4}'
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
+ lat_avg=0.077
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=51626.789706
+ echo index rpi5-32 scalability-yes-1024-1000-1000-1722340564 1000 yes 1024 1 1000 prepared 4 1 51626.789706 0.077
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.161
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=49778.138638
+ echo index rpi5-32 scalability-yes-1024-1000-1000-1722340564 1000 yes 1024 1 1000 prepared 8 1 49778.138638 0.161
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-8-1000-1000
+ env
++ date
+ echo Tue 30 Jul 12:58:09 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 12:58:09 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 912f7de5ac fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-1000-1722340689
+ git checkout -b scalability-yes-8-1000-1000-1722340689
Switched to a new branch 'scalability-yes-8-1000-1000-1722340689'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-1000-1722340689 6fd5e427b7] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-1000-1722340689 a296958ec9] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 12:58:45 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 12:58:45 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-8-1000-1000-1722340689 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000 1 10 '1 4 8' 1000
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-8-1000-1000-1722340689
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=8
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1000
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1000
+ [[ 1000 -ge 100000 ]]
+ DBNAME=index-1-1000
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1000'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1000
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1000
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-1000
+ psql index-1-1000 -c 'vacuum analyze'
+ psql index-1-1000 -c checkpoint
+ psql index-1-1000 -c '\d+'
+ psql index-1-1000 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/index.sql index-1-1000
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=6.594
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=151.654200
+ echo index rpi5-32 scalability-yes-8-1000-1000-1722340689 1000 yes 8 1 1000 simple 1 1 151.654200 6.594
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=10.823
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=369.595724
+ echo index rpi5-32 scalability-yes-8-1000-1000-1722340689 1000 yes 8 1 1000 simple 4 1 369.595724 10.823
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=21.367
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=374.404367
+ echo index rpi5-32 scalability-yes-8-1000-1000-1722340689 1000 yes 8 1 1000 simple 8 1 374.404367 21.367
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.062
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=16233.805854
+ echo index rpi5-32 scalability-yes-8-1000-1000-1722340689 1000 yes 8 1 1000 prepared 1 1 16233.805854 0.062
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.079
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=50809.056311
+ echo index rpi5-32 scalability-yes-8-1000-1000-1722340689 1000 yes 8 1 1000 prepared 4 1 50809.056311 0.079
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.173
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=46325.864693
+ echo index rpi5-32 scalability-yes-8-1000-1000-1722340689 1000 yes 8 1 1000 prepared 8 1 46325.864693 0.173
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-512-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:00:14 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 13:00:14 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at a296958ec9 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-1000-1722340815
+ git checkout -b scalability-yes-512-1000-1000-1722340815
Switched to a new branch 'scalability-yes-512-1000-1000-1722340815'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-1000-1722340815 d2c53e05fb] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-1000-1722340815 13416c4914] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:00:50 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:00:50 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-512-1000-1000-1722340815 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000 1 10 '1 4 8' 1000
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-512-1000-1000-1722340815
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=512
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1000
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1000
+ [[ 1000 -ge 100000 ]]
+ DBNAME=index-1-1000
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1000'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1000
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1000
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-1000
+ psql index-1-1000 -c 'vacuum analyze'
+ psql index-1-1000 -c checkpoint
+ psql index-1-1000 -c '\d+'
+ psql index-1-1000 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/index.sql index-1-1000
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=5.799
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=172.451834
+ echo index rpi5-32 scalability-yes-512-1000-1000-1722340815 1000 yes 512 1 1000 simple 1 1 172.451834 5.799
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=8.538
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=468.489645
+ echo index rpi5-32 scalability-yes-512-1000-1000-1722340815 1000 yes 512 1 1000 simple 4 1 468.489645 8.538
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=17.598
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=454.592706
+ echo index rpi5-32 scalability-yes-512-1000-1000-1722340815 1000 yes 512 1 1000 simple 8 1 454.592706 17.598
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.057
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=17655.087923
+ echo index rpi5-32 scalability-yes-512-1000-1000-1722340815 1000 yes 512 1 1000 prepared 1 1 17655.087923 0.057
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.081
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=49606.847260
+ echo index rpi5-32 scalability-yes-512-1000-1000-1722340815 1000 yes 512 1 1000 prepared 4 1 49606.847260 0.081
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.169
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=47402.151004
+ echo index rpi5-32 scalability-yes-512-1000-1000-1722340815 1000 yes 512 1 1000 prepared 8 1 47402.151004 0.169
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-128-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:02:20 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 13:02:20 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 13416c4914 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-1000-1722340940
+ git checkout -b scalability-yes-128-1000-1000-1722340940
Switched to a new branch 'scalability-yes-128-1000-1000-1722340940'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-1000-1722340940 36d5a89623] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-1000-1722340940 1fff992824] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:02:56 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:02:56 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-128-1000-1000-1722340940 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000 1 10 '1 4 8' 1000
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-128-1000-1000-1722340940
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=128
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1000
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1000
+ [[ 1000 -ge 100000 ]]
+ DBNAME=index-1-1000
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1000'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1000
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1000
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-1000
+ psql index-1-1000 -c 'vacuum analyze'
+ psql index-1-1000 -c checkpoint
+ psql index-1-1000 -c '\d+'
+ psql index-1-1000 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/index.sql index-1-1000
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=5.819
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=171.854252
+ echo index rpi5-32 scalability-yes-128-1000-1000-1722340940 1000 yes 128 1 1000 simple 1 1 171.854252 5.819
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=8.534
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=468.712514
+ echo index rpi5-32 scalability-yes-128-1000-1000-1722340940 1000 yes 128 1 1000 simple 4 1 468.712514 8.534
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=17.768
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=450.250788
+ echo index rpi5-32 scalability-yes-128-1000-1000-1722340940 1000 yes 128 1 1000 simple 8 1 450.250788 17.768
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.055
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18306.322794
+ echo index rpi5-32 scalability-yes-128-1000-1000-1722340940 1000 yes 128 1 1000 prepared 1 1 18306.322794 0.055
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.091
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=43986.713263
+ echo index rpi5-32 scalability-yes-128-1000-1000-1722340940 1000 yes 128 1 1000 prepared 4 1 43986.713263 0.091
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.165
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=48619.617856
+ echo index rpi5-32 scalability-yes-128-1000-1000-1722340940 1000 yes 128 1 1000 prepared 8 1 48619.617856 0.165
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-32-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:04:26 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 13:04:26 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 1fff992824 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-1000-1722341066
+ git checkout -b scalability-no-32-1000-1000-1722341066
Switched to a new branch 'scalability-no-32-1000-1000-1722341066'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-1000-1722341066 f02ccc6de9] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:05:02 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:05:02 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-32-1000-1000-1722341066 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000 1 10 '1 4 8' 1000
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-32-1000-1000-1722341066
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=32
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1000
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1000
+ [[ 1000 -ge 100000 ]]
+ DBNAME=index-1-1000
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1000'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1000
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1000
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-1000
+ psql index-1-1000 -c 'vacuum analyze'
+ psql index-1-1000 -c checkpoint
+ psql index-1-1000 -c '\d+'
+ psql index-1-1000 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/index.sql index-1-1000
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=6.247
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=160.066690
+ echo index rpi5-32 scalability-no-32-1000-1000-1722341066 1000 no 32 1 1000 simple 1 1 160.066690 6.247
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=9.571
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=417.910860
+ echo index rpi5-32 scalability-no-32-1000-1000-1722341066 1000 no 32 1 1000 simple 4 1 417.910860 9.571
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=19.507
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=410.101276
+ echo index rpi5-32 scalability-no-32-1000-1000-1722341066 1000 no 32 1 1000 simple 8 1 410.101276 19.507
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.054
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18570.648964
+ echo index rpi5-32 scalability-no-32-1000-1000-1722341066 1000 no 32 1 1000 prepared 1 1 18570.648964 0.054
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.080
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=49739.071934
+ echo index rpi5-32 scalability-no-32-1000-1000-1722341066 1000 no 32 1 1000 prepared 4 1 49739.071934 0.080
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/index.sql index-1-1000
++ awk '{print $4}'
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
+ lat_avg=0.165
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=48340.720426
+ echo index rpi5-32 scalability-no-32-1000-1000-1722341066 1000 no 32 1 1000 prepared 8 1 48340.720426 0.165
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-0-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:06:31 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 13:06:31 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at f02ccc6de9 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-1000-1722341191
+ git checkout -b scalability-no-0-1000-1000-1722341191
Switched to a new branch 'scalability-no-0-1000-1000-1722341191'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:07:07 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:07:07 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-0-1000-1000-1722341191 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000 1 10 '1 4 8' 1000
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-0-1000-1000-1722341191
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=0
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1000
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1000
+ [[ 1000 -ge 100000 ]]
+ DBNAME=index-1-1000
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1000'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1000
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1000
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-1000
+ psql index-1-1000 -c 'vacuum analyze'
+ psql index-1-1000 -c checkpoint
+ psql index-1-1000 -c '\d+'
+ psql index-1-1000 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/index.sql index-1-1000
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=6.673
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=149.853456
+ echo index rpi5-32 scalability-no-0-1000-1000-1722341191 1000 no 0 1 1000 simple 1 1 149.853456 6.673
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=11.823
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=338.315320
+ echo index rpi5-32 scalability-no-0-1000-1000-1722341191 1000 no 0 1 1000 simple 4 1 338.315320 11.823
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=24.079
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=332.236265
+ echo index rpi5-32 scalability-no-0-1000-1000-1722341191 1000 no 0 1 1000 simple 8 1 332.236265 24.079
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.056
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=17935.557901
+ echo index rpi5-32 scalability-no-0-1000-1000-1722341191 1000 no 0 1 1000 prepared 1 1 17935.557901 0.056
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.079
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=50473.815741
+ echo index rpi5-32 scalability-no-0-1000-1000-1722341191 1000 no 0 1 1000 prepared 4 1 50473.815741 0.079
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.172
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=46433.539013
+ echo index rpi5-32 scalability-no-0-1000-1000-1722341191 1000 no 0 1 1000 prepared 8 1 46433.539013 0.172
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-1-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:08:36 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 13:08:36 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-1000-1722341317
+ git checkout -b scalability-no-1-1000-1000-1722341317
Switched to a new branch 'scalability-no-1-1000-1000-1722341317'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-1000-1722341317 f1426064b3] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:09:13 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:09:13 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-1-1000-1000-1722341317 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000 1 10 '1 4 8' 1000
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-1-1000-1000-1722341317
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=1
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1000
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1000
+ [[ 1000 -ge 100000 ]]
+ DBNAME=index-1-1000
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1000'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1000
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1000
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-1000
+ psql index-1-1000 -c 'vacuum analyze'
+ psql index-1-1000 -c checkpoint
+ psql index-1-1000 -c '\d+'
+ psql index-1-1000 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/index.sql index-1-1000
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=6.644
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=150.508504
+ echo index rpi5-32 scalability-no-1-1000-1000-1722341317 1000 no 1 1 1000 simple 1 1 150.508504 6.644
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=10.872
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=367.907729
+ echo index rpi5-32 scalability-no-1-1000-1000-1722341317 1000 no 1 1 1000 simple 4 1 367.907729 10.872
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=23.063
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=346.873484
+ echo index rpi5-32 scalability-no-1-1000-1000-1722341317 1000 no 1 1 1000 simple 8 1 346.873484 23.063
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.054
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18403.700925
+ echo index rpi5-32 scalability-no-1-1000-1000-1722341317 1000 no 1 1 1000 prepared 1 1 18403.700925 0.054
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/index.sql index-1-1000
++ awk '{print $4}'
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
+ lat_avg=0.078
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=51289.936429
+ echo index rpi5-32 scalability-no-1-1000-1000-1722341317 1000 no 1 1 1000 prepared 4 1 51289.936429 0.078
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.161
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=49622.476695
+ echo index rpi5-32 scalability-no-1-1000-1000-1722341317 1000 no 1 1 1000 prepared 8 1 49622.476695 0.161
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-1024-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:10:42 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 13:10:42 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at f1426064b3 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-1000-1722341442
+ git checkout -b scalability-no-1024-1000-1000-1722341442
Switched to a new branch 'scalability-no-1024-1000-1000-1722341442'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-1000-1722341442 3e72e02203] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:11:18 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:11:18 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-1024-1000-1000-1722341442 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000 1 10 '1 4 8' 1000
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-1024-1000-1000-1722341442
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=1024
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1000
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1000
+ [[ 1000 -ge 100000 ]]
+ DBNAME=index-1-1000
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1000'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1000
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1000
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-1000
+ psql index-1-1000 -c 'vacuum analyze'
+ psql index-1-1000 -c checkpoint
+ psql index-1-1000 -c '\d+'
+ psql index-1-1000 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/index.sql index-1-1000
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=5.745
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=174.064369
+ echo index rpi5-32 scalability-no-1024-1000-1000-1722341442 1000 no 1024 1 1000 simple 1 1 174.064369 5.745
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=7.825
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=511.199387
+ echo index rpi5-32 scalability-no-1024-1000-1000-1722341442 1000 no 1024 1 1000 simple 4 1 511.199387 7.825
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/index.sql index-1-1000
++ awk '{print $4}'
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
+ lat_avg=15.661
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=510.838626
+ echo index rpi5-32 scalability-no-1024-1000-1000-1722341442 1000 no 1024 1 1000 simple 8 1 510.838626 15.661
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.061
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=16519.932624
+ echo index rpi5-32 scalability-no-1024-1000-1000-1722341442 1000 no 1024 1 1000 prepared 1 1 16519.932624 0.061
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.077
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=51654.733562
+ echo index rpi5-32 scalability-no-1024-1000-1000-1722341442 1000 no 1024 1 1000 prepared 4 1 51654.733562 0.077
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.165
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=48405.334855
+ echo index rpi5-32 scalability-no-1024-1000-1000-1722341442 1000 no 1024 1 1000 prepared 8 1 48405.334855 0.165
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-8-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:12:48 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 13:12:48 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 3e72e02203 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-1000-1722341568
+ git checkout -b scalability-no-8-1000-1000-1722341568
Switched to a new branch 'scalability-no-8-1000-1000-1722341568'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-1000-1722341568 575fe0e612] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:13:24 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:13:24 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-8-1000-1000-1722341568 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000 1 10 '1 4 8' 1000
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-8-1000-1000-1722341568
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=8
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1000
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1000
+ [[ 1000 -ge 100000 ]]
+ DBNAME=index-1-1000
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1000'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1000
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1000
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-1000
+ psql index-1-1000 -c 'vacuum analyze'
+ psql index-1-1000 -c checkpoint
+ psql index-1-1000 -c '\d+'
+ psql index-1-1000 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/index.sql index-1-1000
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=6.619
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=151.090209
+ echo index rpi5-32 scalability-no-8-1000-1000-1722341568 1000 no 8 1 1000 simple 1 1 151.090209 6.619
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=10.432
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=383.425999
+ echo index rpi5-32 scalability-no-8-1000-1000-1722341568 1000 no 8 1 1000 simple 4 1 383.425999 10.432
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=21.353
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=374.655724
+ echo index rpi5-32 scalability-no-8-1000-1000-1722341568 1000 no 8 1 1000 simple 8 1 374.655724 21.353
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.055
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18152.200093
+ echo index rpi5-32 scalability-no-8-1000-1000-1722341568 1000 no 8 1 1000 prepared 1 1 18152.200093 0.055
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/index.sql index-1-1000
++ awk '{print $4}'
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
+ lat_avg=0.082
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=48775.824905
+ echo index rpi5-32 scalability-no-8-1000-1000-1722341568 1000 no 8 1 1000 prepared 4 1 48775.824905 0.082
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.174
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=45977.431337
+ echo index rpi5-32 scalability-no-8-1000-1000-1722341568 1000 no 8 1 1000 prepared 8 1 45977.431337 0.174
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-512-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:14:53 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 13:14:53 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 575fe0e612 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-1000-1722341693
+ git checkout -b scalability-no-512-1000-1000-1722341693
Switched to a new branch 'scalability-no-512-1000-1000-1722341693'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-1000-1722341693 be056e9048] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:15:29 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:15:29 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-512-1000-1000-1722341693 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000 1 10 '1 4 8' 1000
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-512-1000-1000-1722341693
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=512
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1000
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1000
+ [[ 1000 -ge 100000 ]]
+ DBNAME=index-1-1000
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1000'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1000
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1000
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-1000
+ psql index-1-1000 -c 'vacuum analyze'
+ psql index-1-1000 -c checkpoint
+ psql index-1-1000 -c '\d+'
+ psql index-1-1000 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/index.sql index-1-1000
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=5.778
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=173.069055
+ echo index rpi5-32 scalability-no-512-1000-1000-1722341693 1000 no 512 1 1000 simple 1 1 173.069055 5.778
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=7.780
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=514.142725
+ echo index rpi5-32 scalability-no-512-1000-1000-1722341693 1000 no 512 1 1000 simple 4 1 514.142725 7.780
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=15.483
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=516.682064
+ echo index rpi5-32 scalability-no-512-1000-1000-1722341693 1000 no 512 1 1000 simple 8 1 516.682064 15.483
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.055
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18280.600140
+ echo index rpi5-32 scalability-no-512-1000-1000-1722341693 1000 no 512 1 1000 prepared 1 1 18280.600140 0.055
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/index.sql index-1-1000
++ awk '{print $4}'
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
+ lat_avg=0.080
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=50140.048035
+ echo index rpi5-32 scalability-no-512-1000-1000-1722341693 1000 no 512 1 1000 prepared 4 1 50140.048035 0.080
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.166
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=48113.464780
+ echo index rpi5-32 scalability-no-512-1000-1000-1722341693 1000 no 512 1 1000 prepared 8 1 48113.464780 0.166
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-128-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:16:59 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 13:16:59 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at be056e9048 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-1000-1722341819
+ git checkout -b scalability-no-128-1000-1000-1722341819
Switched to a new branch 'scalability-no-128-1000-1000-1722341819'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-1000-1722341819 7df7c6eac8] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:17:37 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:17:37 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-128-1000-1000-1722341819 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000 1 10 '1 4 8' 1000
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-128-1000-1000-1722341819
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=128
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1000
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1000
+ [[ 1000 -ge 100000 ]]
+ DBNAME=index-1-1000
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1000'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1000
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1000
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-1000
+ psql index-1-1000 -c 'vacuum analyze'
+ psql index-1-1000 -c checkpoint
+ psql index-1-1000 -c '\d+'
+ psql index-1-1000 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/index.sql index-1-1000
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=5.688
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=175.818262
+ echo index rpi5-32 scalability-no-128-1000-1000-1722341819 1000 no 128 1 1000 simple 1 1 175.818262 5.688
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=7.614
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=525.356346
+ echo index rpi5-32 scalability-no-128-1000-1000-1722341819 1000 no 128 1 1000 simple 4 1 525.356346 7.614
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=15.496
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=516.247558
+ echo index rpi5-32 scalability-no-128-1000-1000-1722341819 1000 no 128 1 1000 simple 8 1 516.247558 15.496
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.054
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18487.560045
+ echo index rpi5-32 scalability-no-128-1000-1000-1722341819 1000 no 128 1 1000 prepared 1 1 18487.560045 0.054
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.077
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=51635.083817
+ echo index rpi5-32 scalability-no-128-1000-1000-1722341819 1000 no 128 1 1000 prepared 4 1 51635.083817 0.077
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/index.sql index-1-1000
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.170
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1000/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=47177.087307
+ echo index rpi5-32 scalability-no-128-1000-1000-1722341819 1000 no 128 1 1000 prepared 8 1 47177.087307 0.170
+ pg_ctl -D /mnt/data/data-test stop
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-32-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-32-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:19:07 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 13:19:07 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 7df7c6eac8 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-1000-1722341947
+ git checkout -b scalability-yes-32-1000-1000-1722341947
Switched to a new branch 'scalability-yes-32-1000-1000-1722341947'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-1000-1722341947 f0c7bf2e03] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-1000-1722341947 ff15dd3f05] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:19:42 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:19:42 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-32-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-32-1000-1000-1722341947 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-32-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-0-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-0-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:21:24 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 13:21:24 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at ff15dd3f05 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-1000-1722342084
+ git checkout -b scalability-yes-0-1000-1000-1722342084
Switched to a new branch 'scalability-yes-0-1000-1000-1722342084'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-1000-1722342084 7dea28a546] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:22:00 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:22:00 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-0-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-0-1000-1000-1722342084 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-0-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-1-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:23:41 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 13:23:41 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 7dea28a546 NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-1000-1722342222
+ git checkout -b scalability-yes-1-1000-1000-1722342222
Switched to a new branch 'scalability-yes-1-1000-1000-1722342222'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-1000-1722342222 f40af0ae64] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-1000-1722342222 7fa9fbbaaf] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:24:17 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:24:17 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-1-1000-1000-1722342222 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1024-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-1024-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:26:01 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 13:26:01 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 7fa9fbbaaf fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-1000-1722342361
+ git checkout -b scalability-yes-1024-1000-1000-1722342361
Switched to a new branch 'scalability-yes-1024-1000-1000-1722342361'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-1000-1722342361 e2e9c54a42] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-1000-1722342361 9401e5ea07] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:26:37 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:26:37 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1024-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-1024-1000-1000-1722342361 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1024-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-8-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-8-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:28:26 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 13:28:26 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 9401e5ea07 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-1000-1722342506
+ git checkout -b scalability-yes-8-1000-1000-1722342506
Switched to a new branch 'scalability-yes-8-1000-1000-1722342506'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-1000-1722342506 956e42fd59] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-1000-1722342506 5b77a93f6d] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:29:01 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:29:01 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-8-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-8-1000-1000-1722342506 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-8-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-512-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-512-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:30:43 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 13:30:43 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 5b77a93f6d fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-1000-1722342643
+ git checkout -b scalability-yes-512-1000-1000-1722342643
Switched to a new branch 'scalability-yes-512-1000-1000-1722342643'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-1000-1722342643 772aff92e4] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-1000-1722342643 3ed7df2042] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:31:19 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:31:19 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-512-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-512-1000-1000-1722342643 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-512-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-128-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-128-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:33:08 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 13:33:08 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 3ed7df2042 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-1000-1722342788
+ git checkout -b scalability-yes-128-1000-1000-1722342788
Switched to a new branch 'scalability-yes-128-1000-1000-1722342788'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-1000-1722342788 c939f35111] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-1000-1722342788 7068ed5bf5] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:33:43 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:33:43 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-128-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-128-1000-1000-1722342788 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-128-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-32-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-32-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:35:29 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 13:35:29 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 7068ed5bf5 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-1000-1722342929
+ git checkout -b scalability-no-32-1000-1000-1722342929
Switched to a new branch 'scalability-no-32-1000-1000-1722342929'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-1000-1722342929 d1b391742f] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:36:04 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:36:04 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-32-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-32-1000-1000-1722342929 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-32-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-0-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-0-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:37:46 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 13:37:46 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at d1b391742f fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-1000-1722343066
+ git checkout -b scalability-no-0-1000-1000-1722343066
Switched to a new branch 'scalability-no-0-1000-1000-1722343066'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:38:21 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:38:21 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-0-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-0-1000-1000-1722343066 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-0-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-1-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:40:08 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 13:40:08 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-1000-1722343208
+ git checkout -b scalability-no-1-1000-1000-1722343208
Switched to a new branch 'scalability-no-1-1000-1000-1722343208'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-1000-1722343208 8813e13dc9] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:40:43 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:40:43 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-1-1000-1000-1722343208 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1024-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-1024-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:42:32 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 13:42:32 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 8813e13dc9 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-1000-1722343352
+ git checkout -b scalability-no-1024-1000-1000-1722343352
Switched to a new branch 'scalability-no-1024-1000-1000-1722343352'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-1000-1722343352 72348b97f7] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:43:07 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:43:07 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1024-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-1024-1000-1000-1722343352 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1024-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-8-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-8-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:44:52 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 13:44:52 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 72348b97f7 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-1000-1722343492
+ git checkout -b scalability-no-8-1000-1000-1722343492
Switched to a new branch 'scalability-no-8-1000-1000-1722343492'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-1000-1722343492 5aa9094b67] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:45:28 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:45:28 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-8-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-8-1000-1000-1722343492 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-8-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-512-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-512-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:47:11 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 13:47:11 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 5aa9094b67 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-1000-1722343631
+ git checkout -b scalability-no-512-1000-1000-1722343631
Switched to a new branch 'scalability-no-512-1000-1000-1722343631'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-1000-1722343631 62e6a63a1c] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:47:46 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:47:46 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-512-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-512-1000-1000-1722343631 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-512-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-128-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-128-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:49:35 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 13:49:35 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 62e6a63a1c fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-1000-1722343775
+ git checkout -b scalability-no-128-1000-1000-1722343775
Switched to a new branch 'scalability-no-128-1000-1000-1722343775'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-1000-1722343775 727163fcbf] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:50:11 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:50:11 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-128-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-128-1000-1000-1722343775 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-128-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-32-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-32-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:52:00 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 13:52:00 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 727163fcbf fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-1000-1722343920
+ git checkout -b scalability-yes-32-1000-1000-1722343920
Switched to a new branch 'scalability-yes-32-1000-1000-1722343920'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-1000-1722343920 1b6e37adf5] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-1000-1722343920 a00d07a53e] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:52:36 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:52:36 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-32-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-32-1000-1000-1722343920 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-32-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-0-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-0-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:54:08 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 13:54:08 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at a00d07a53e fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-1000-1722344048
+ git checkout -b scalability-yes-0-1000-1000-1722344048
Switched to a new branch 'scalability-yes-0-1000-1000-1722344048'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-1000-1722344048 45e78e3385] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:54:44 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:54:44 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-0-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-0-1000-1000-1722344048 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-0-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-1-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:56:15 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 13:56:15 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 45e78e3385 NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-1000-1722344175
+ git checkout -b scalability-yes-1-1000-1000-1722344175
Switched to a new branch 'scalability-yes-1-1000-1000-1722344175'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-1000-1722344175 e13998424e] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-1000-1722344175 894ba7d941] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:56:50 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:56:50 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-1-1000-1000-1722344175 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1024-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-1024-1000-1000
+ env
++ date
+ echo Tue 30 Jul 13:58:22 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 13:58:22 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 894ba7d941 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-1000-1722344302
+ git checkout -b scalability-yes-1024-1000-1000-1722344302
Switched to a new branch 'scalability-yes-1024-1000-1000-1722344302'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-1000-1722344302 89be4a5f03] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-1000-1722344302 4e0d593209] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 13:58:57 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 13:58:57 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1024-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-1024-1000-1000-1722344302 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1024-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-8-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-8-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:00:34 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 14:00:34 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 4e0d593209 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-1000-1722344434
+ git checkout -b scalability-yes-8-1000-1000-1722344434
Switched to a new branch 'scalability-yes-8-1000-1000-1722344434'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-1000-1722344434 3a454521e0] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-1000-1722344434 63c8cd0f61] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:01:10 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:01:10 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-8-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-8-1000-1000-1722344434 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-8-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-512-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-512-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:02:42 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 14:02:42 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 63c8cd0f61 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-1000-1722344562
+ git checkout -b scalability-yes-512-1000-1000-1722344562
Switched to a new branch 'scalability-yes-512-1000-1000-1722344562'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-1000-1722344562 438859f815] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-1000-1722344562 2e26de2cd6] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:03:17 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:03:17 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-512-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-512-1000-1000-1722344562 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-512-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-128-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-128-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:04:51 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 14:04:51 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 2e26de2cd6 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-1000-1722344691
+ git checkout -b scalability-yes-128-1000-1000-1722344691
Switched to a new branch 'scalability-yes-128-1000-1000-1722344691'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-1000-1722344691 8c446e5fd4] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-1000-1722344691 55842d06dd] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:05:27 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:05:27 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-128-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-128-1000-1000-1722344691 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-128-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-32-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-32-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:06:59 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 14:06:59 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 55842d06dd fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-1000-1722344819
+ git checkout -b scalability-no-32-1000-1000-1722344819
Switched to a new branch 'scalability-no-32-1000-1000-1722344819'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-1000-1722344819 915f02c740] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:07:34 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:07:34 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-32-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-32-1000-1000-1722344819 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-32-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-0-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-0-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:09:05 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 14:09:05 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 915f02c740 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-1000-1722344945
+ git checkout -b scalability-no-0-1000-1000-1722344945
Switched to a new branch 'scalability-no-0-1000-1000-1722344945'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:09:41 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:09:41 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-0-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-0-1000-1000-1722344945 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-0-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-1-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:11:12 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 14:11:12 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-1000-1722345072
+ git checkout -b scalability-no-1-1000-1000-1722345072
Switched to a new branch 'scalability-no-1-1000-1000-1722345072'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-1000-1722345072 ea52a0968c] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:11:48 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:11:48 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-1-1000-1000-1722345072 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1024-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-1024-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:13:20 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 14:13:20 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at ea52a0968c fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-1000-1722345200
+ git checkout -b scalability-no-1024-1000-1000-1722345200
Switched to a new branch 'scalability-no-1024-1000-1000-1722345200'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-1000-1722345200 63aafa9dbe] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:13:56 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:13:56 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1024-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-1024-1000-1000-1722345200 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1024-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-8-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-8-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:15:31 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 14:15:31 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 63aafa9dbe fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-1000-1722345331
+ git checkout -b scalability-no-8-1000-1000-1722345331
Switched to a new branch 'scalability-no-8-1000-1000-1722345331'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-1000-1722345331 02383b89ce] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:16:07 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:16:07 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-8-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-8-1000-1000-1722345331 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-8-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-512-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-512-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:17:38 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 14:17:38 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 02383b89ce fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-1000-1722345458
+ git checkout -b scalability-no-512-1000-1000-1722345458
Switched to a new branch 'scalability-no-512-1000-1000-1722345458'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-1000-1722345458 c28989dabb] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:18:16 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:18:16 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-512-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-512-1000-1000-1722345458 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-512-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-128-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-128-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:19:51 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 14:19:51 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at c28989dabb fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-1000-1722345591
+ git checkout -b scalability-no-128-1000-1000-1722345591
Switched to a new branch 'scalability-no-128-1000-1000-1722345591'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-1000-1722345591 55c91936a0] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:20:26 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:20:26 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-128-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-128-1000-1000-1722345591 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-128-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-32-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-32-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:21:58 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 14:21:58 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 55c91936a0 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-1000-1722345718
+ git checkout -b scalability-yes-32-1000-1000-1722345718
Switched to a new branch 'scalability-yes-32-1000-1000-1722345718'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-1000-1722345718 7315ed6290] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-1000-1722345718 43e898605c] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:22:33 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:22:33 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-32-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-32-1000-1000-1722345718 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-32-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-0-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-0-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:24:05 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 14:24:05 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 43e898605c fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-1000-1722345845
+ git checkout -b scalability-yes-0-1000-1000-1722345845
Switched to a new branch 'scalability-yes-0-1000-1000-1722345845'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-1000-1722345845 cfb81a5cd2] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:24:40 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:24:40 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-0-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-0-1000-1000-1722345845 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-0-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-1-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:26:09 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 14:26:09 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at cfb81a5cd2 NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-1000-1722345970
+ git checkout -b scalability-yes-1-1000-1000-1722345970
Switched to a new branch 'scalability-yes-1-1000-1000-1722345970'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-1000-1722345970 33247eb882] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-1000-1722345970 837f42dd68] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:26:45 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:26:45 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-1-1000-1000-1722345970 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1024-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-1024-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:28:13 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 14:28:13 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 837f42dd68 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-1000-1722346093
+ git checkout -b scalability-yes-1024-1000-1000-1722346093
Switched to a new branch 'scalability-yes-1024-1000-1000-1722346093'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-1000-1722346093 1b0eb07292] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-1000-1722346093 eabf99e2f5] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:28:49 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:28:49 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1024-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-1024-1000-1000-1722346093 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1024-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-8-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-8-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:30:21 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 14:30:21 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at eabf99e2f5 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-1000-1722346221
+ git checkout -b scalability-yes-8-1000-1000-1722346221
Switched to a new branch 'scalability-yes-8-1000-1000-1722346221'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-1000-1722346221 a05a7a5c5f] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-1000-1722346221 27d7831011] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:30:56 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:30:56 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-8-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-8-1000-1000-1722346221 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-8-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-512-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-512-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:32:28 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 14:32:28 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 27d7831011 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-1000-1722346348
+ git checkout -b scalability-yes-512-1000-1000-1722346348
Switched to a new branch 'scalability-yes-512-1000-1000-1722346348'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-1000-1722346348 0279d92682] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-1000-1722346348 ead70911e6] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:33:03 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:33:03 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-512-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-512-1000-1000-1722346348 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-512-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-128-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-128-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:34:35 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 14:34:35 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at ead70911e6 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-1000-1722346475
+ git checkout -b scalability-yes-128-1000-1000-1722346475
Switched to a new branch 'scalability-yes-128-1000-1000-1722346475'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-1000-1722346475 7d65338825] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-1000-1722346475 af0dde3857] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:35:11 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:35:11 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-128-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-128-1000-1000-1722346475 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-128-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-32-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-32-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:36:43 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 14:36:43 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at af0dde3857 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-1000-1722346603
+ git checkout -b scalability-no-32-1000-1000-1722346603
Switched to a new branch 'scalability-no-32-1000-1000-1722346603'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-1000-1722346603 1fd92a5daf] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:37:19 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:37:19 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-32-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-32-1000-1000-1722346603 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-32-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-0-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-0-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:38:50 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 14:38:50 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 1fd92a5daf fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-1000-1722346730
+ git checkout -b scalability-no-0-1000-1000-1722346730
Switched to a new branch 'scalability-no-0-1000-1000-1722346730'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:39:25 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:39:25 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-0-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-0-1000-1000-1722346730 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-0-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-1-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:40:57 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 14:40:57 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-1000-1722346857
+ git checkout -b scalability-no-1-1000-1000-1722346857
Switched to a new branch 'scalability-no-1-1000-1000-1722346857'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-1000-1722346857 6ba6e6f21b] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:41:32 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:41:32 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-1-1000-1000-1722346857 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1024-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-1024-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:43:04 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 14:43:04 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 6ba6e6f21b fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-1000-1722346984
+ git checkout -b scalability-no-1024-1000-1000-1722346984
Switched to a new branch 'scalability-no-1024-1000-1000-1722346984'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-1000-1722346984 90928e8ed0] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:43:39 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:43:39 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1024-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-1024-1000-1000-1722346984 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1024-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-8-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-8-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:45:10 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 14:45:10 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 90928e8ed0 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-1000-1722347110
+ git checkout -b scalability-no-8-1000-1000-1722347110
Switched to a new branch 'scalability-no-8-1000-1000-1722347110'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-1000-1722347110 069aeb4d38] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:45:46 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:45:46 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-8-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-8-1000-1000-1722347110 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-8-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-512-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-512-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:47:17 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 14:47:17 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 069aeb4d38 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-1000-1722347238
+ git checkout -b scalability-no-512-1000-1000-1722347238
Switched to a new branch 'scalability-no-512-1000-1000-1722347238'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-1000-1722347238 2dc4cb08fc] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:47:53 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:47:53 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-512-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-512-1000-1000-1722347238 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-512-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-128-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-128-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:49:25 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 14:49:25 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 2dc4cb08fc fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-1000-1722347365
+ git checkout -b scalability-no-128-1000-1000-1722347365
Switched to a new branch 'scalability-no-128-1000-1000-1722347365'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-1000-1722347365 a872eda087] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:50:00 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:50:00 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-128-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-128-1000-1000-1722347365 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-128-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-32-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-32-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:51:32 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 14:51:32 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at a872eda087 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-1000-1722347492
+ git checkout -b scalability-yes-32-1000-1000-1722347492
Switched to a new branch 'scalability-yes-32-1000-1000-1722347492'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-1000-1722347492 829d9ba794] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-1000-1722347492 dd076154fd] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:52:08 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:52:08 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-32-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-32-1000-1000-1722347492 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-32-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-0-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-0-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:52:13 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 14:52:13 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at dd076154fd fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-1000-1722347533
+ git checkout -b scalability-yes-0-1000-1000-1722347533
Switched to a new branch 'scalability-yes-0-1000-1000-1722347533'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-1000-1722347533 92bddb204e] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:52:48 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:52:48 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-0-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-0-1000-1000-1722347533 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-0-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-1-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:52:53 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 14:52:53 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 92bddb204e NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-1000-1722347573
+ git checkout -b scalability-yes-1-1000-1000-1722347573
Switched to a new branch 'scalability-yes-1-1000-1000-1722347573'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-1000-1722347573 e76f5196c0] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-1000-1722347573 0c67b18a26] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:53:29 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:53:29 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-1-1000-1000-1722347573 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1024-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-1024-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:53:34 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 14:53:34 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 0c67b18a26 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-1000-1722347614
+ git checkout -b scalability-yes-1024-1000-1000-1722347614
Switched to a new branch 'scalability-yes-1024-1000-1000-1722347614'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-1000-1722347614 74af7d1860] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-1000-1722347614 71f839ceca] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:54:10 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:54:10 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1024-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-1024-1000-1000-1722347614 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1024-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-8-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-8-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:54:15 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 14:54:15 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 71f839ceca fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-1000-1722347655
+ git checkout -b scalability-yes-8-1000-1000-1722347655
Switched to a new branch 'scalability-yes-8-1000-1000-1722347655'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-1000-1722347655 1fed48563d] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-1000-1722347655 e1cd83c62b] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:54:51 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:54:51 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-8-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-8-1000-1000-1722347655 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-8-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-512-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-512-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:54:55 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 14:54:55 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at e1cd83c62b fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-1000-1722347696
+ git checkout -b scalability-yes-512-1000-1000-1722347696
Switched to a new branch 'scalability-yes-512-1000-1000-1722347696'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-1000-1722347696 e3658b9505] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-1000-1722347696 bd888c29ef] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:55:31 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:55:31 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-512-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-512-1000-1000-1722347696 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-512-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-128-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-128-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:55:36 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 14:55:36 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at bd888c29ef fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-1000-1722347736
+ git checkout -b scalability-yes-128-1000-1000-1722347736
Switched to a new branch 'scalability-yes-128-1000-1000-1722347736'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-1000-1722347736 339586ca7e] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-1000-1722347736 0cada888d4] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:56:11 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:56:11 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-128-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-128-1000-1000-1722347736 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-128-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-32-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-32-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-32-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:56:16 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 14:56:16 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 0cada888d4 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-1000-1722347776
+ git checkout -b scalability-no-32-1000-1000-1722347776
Switched to a new branch 'scalability-no-32-1000-1000-1722347776'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-1000-1722347776 2d9fb6bf4f] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:56:52 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:56:52 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-32-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-32-1000-1000-1722347776 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-32-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-0-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-0-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-0-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:56:57 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 14:56:57 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 2d9fb6bf4f fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-1000-1722347817
+ git checkout -b scalability-no-0-1000-1000-1722347817
Switched to a new branch 'scalability-no-0-1000-1000-1722347817'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:57:32 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:57:32 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-0-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-0-1000-1000-1722347817 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-0-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-1-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:57:36 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 14:57:36 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-1000-1722347857
+ git checkout -b scalability-no-1-1000-1000-1722347857
Switched to a new branch 'scalability-no-1-1000-1000-1722347857'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-1000-1722347857 5f38f41f78] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:58:12 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:58:12 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-1-1000-1000-1722347857 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1024-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1024-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-1024-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:58:16 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 14:58:16 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 5f38f41f78 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-1000-1722347896
+ git checkout -b scalability-no-1024-1000-1000-1722347896
Switched to a new branch 'scalability-no-1024-1000-1000-1722347896'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-1000-1722347896 e94153f75a] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:58:51 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:58:51 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1024-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-1024-1000-1000-1722347896 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1024-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-8-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-8-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-8-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:58:56 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 14:58:56 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at e94153f75a fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-1000-1722347936
+ git checkout -b scalability-no-8-1000-1000-1722347936
Switched to a new branch 'scalability-no-8-1000-1000-1722347936'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-1000-1722347936 d9af030d0d] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 14:59:32 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 14:59:32 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-8-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-8-1000-1000-1722347936 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-8-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-512-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-512-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-512-1000-1000
+ env
++ date
+ echo Tue 30 Jul 14:59:36 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 14:59:36 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at d9af030d0d fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-1000-1722347977
+ git checkout -b scalability-no-512-1000-1000-1722347977
Switched to a new branch 'scalability-no-512-1000-1000-1722347977'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-1000-1722347977 1eb0941898] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:00:13 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 15:00:13 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-512-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-512-1000-1000-1722347977 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-512-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-128-1000-1000
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-128-1000-1000
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-128-1000-1000
+ env
++ date
+ echo Tue 30 Jul 15:00:18 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 15:00:18 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 1eb0941898 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-1000-1722348018
+ git checkout -b scalability-no-128-1000-1000-1722348018
Switched to a new branch 'scalability-no-128-1000-1000-1722348018'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-1000-1722348018 14d0ce864e] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-1000 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:00:53 BST 2024 'RUN   files: 1000  partitions: 1000'
Tue 30 Jul 15:00:53 BST 2024 RUN   files: 1000  partitions: 1000
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-1000/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-128-1000-1000/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-128-1000-1000-1722348018 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-128-1000-1000 1 10 '1 4 8' 1000
+ pg_ctl -D /mnt/data/data-test stop
+ for p in $PARTITIONS
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-32-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:00:57 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 15:00:57 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 14d0ce864e fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-100-1722348058
+ git checkout -b scalability-yes-32-1000-100-1722348058
Switched to a new branch 'scalability-yes-32-1000-100-1722348058'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-100-1722348058 5edc94eb8f] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-100-1722348058 5c0ef606e4] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:01:33 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:01:33 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-32-1000-100-1722348058 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100 1 10 '1 4 8' 100
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-32-1000-100-1722348058
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=32
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=100
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=100
+ [[ 100 -ge 100000 ]]
+ DBNAME=index-1-100
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-100'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-100
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 100
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-100
+ psql index-1-100 -c 'vacuum analyze'
+ psql index-1-100 -c checkpoint
+ psql index-1-100 -c '\d+'
+ psql index-1-100 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/index.sql index-1-100
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.396
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=2527.175438
+ echo index rpi5-32 scalability-yes-32-1000-100-1722348058 1000 yes 32 1 100 simple 1 1 2527.175438 0.396
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.504
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7929.803641
+ echo index rpi5-32 scalability-yes-32-1000-100-1722348058 1000 yes 32 1 100 simple 4 1 7929.803641 0.504
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=1.707
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=4685.496844
+ echo index rpi5-32 scalability-yes-32-1000-100-1722348058 1000 yes 32 1 100 simple 8 1 4685.496844 1.707
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.061
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=16442.072108
+ echo index rpi5-32 scalability-yes-32-1000-100-1722348058 1000 yes 32 1 100 prepared 1 1 16442.072108 0.061
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.071
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=55999.044620
+ echo index rpi5-32 scalability-yes-32-1000-100-1722348058 1000 yes 32 1 100 prepared 4 1 55999.044620 0.071
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.156
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=51338.679887
+ echo index rpi5-32 scalability-yes-32-1000-100-1722348058 1000 yes 32 1 100 prepared 8 1 51338.679887 0.156
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-0-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:02:51 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 15:02:51 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 5c0ef606e4 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-100-1722348171
+ git checkout -b scalability-yes-0-1000-100-1722348171
Switched to a new branch 'scalability-yes-0-1000-100-1722348171'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-100-1722348171 956df834d9] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:03:26 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:03:26 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-0-1000-100-1722348171 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100 1 10 '1 4 8' 100
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-0-1000-100-1722348171
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=0
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=100
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=100
+ [[ 100 -ge 100000 ]]
+ DBNAME=index-1-100
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-100'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-100
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 100
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-100
+ psql index-1-100 -c 'vacuum analyze'
+ psql index-1-100 -c checkpoint
+ psql index-1-100 -c '\d+'
+ psql index-1-100 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/index.sql index-1-100
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.407
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=2457.564971
+ echo index rpi5-32 scalability-yes-0-1000-100-1722348171 1000 yes 0 1 100 simple 1 1 2457.564971 0.407
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.603
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=6634.220960
+ echo index rpi5-32 scalability-yes-0-1000-100-1722348171 1000 yes 0 1 100 simple 4 1 6634.220960 0.603
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=1.871
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=4274.712277
+ echo index rpi5-32 scalability-yes-0-1000-100-1722348171 1000 yes 0 1 100 simple 8 1 4274.712277 1.871
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.054
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18456.290752
+ echo index rpi5-32 scalability-yes-0-1000-100-1722348171 1000 yes 0 1 100 prepared 1 1 18456.290752 0.054
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.073
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=54557.325121
+ echo index rpi5-32 scalability-yes-0-1000-100-1722348171 1000 yes 0 1 100 prepared 4 1 54557.325121 0.073
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.161
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=49803.447200
+ echo index rpi5-32 scalability-yes-0-1000-100-1722348171 1000 yes 0 1 100 prepared 8 1 49803.447200 0.161
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-1-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:04:44 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 15:04:44 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 956df834d9 NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-100-1722348284
+ git checkout -b scalability-yes-1-1000-100-1722348284
Switched to a new branch 'scalability-yes-1-1000-100-1722348284'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-100-1722348284 6af605704d] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-100-1722348284 6dc48a3791] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:05:19 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:05:19 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-1-1000-100-1722348284 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100 1 10 '1 4 8' 100
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-1-1000-100-1722348284
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=1
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=100
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=100
+ [[ 100 -ge 100000 ]]
+ DBNAME=index-1-100
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-100'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-100
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 100
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-100
+ psql index-1-100 -c 'vacuum analyze'
+ psql index-1-100 -c checkpoint
+ psql index-1-100 -c '\d+'
+ psql index-1-100 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/index.sql index-1-100
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.412
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=2428.307019
+ echo index rpi5-32 scalability-yes-1-1000-100-1722348284 1000 yes 1 1 100 simple 1 1 2428.307019 0.412
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.626
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=6391.518149
+ echo index rpi5-32 scalability-yes-1-1000-100-1722348284 1000 yes 1 1 100 simple 4 1 6391.518149 0.626
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=1.904
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=4202.257444
+ echo index rpi5-32 scalability-yes-1-1000-100-1722348284 1000 yes 1 1 100 simple 8 1 4202.257444 1.904
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.051
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19568.712545
+ echo index rpi5-32 scalability-yes-1-1000-100-1722348284 1000 yes 1 1 100 prepared 1 1 19568.712545 0.051
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.072
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=55697.495605
+ echo index rpi5-32 scalability-yes-1-1000-100-1722348284 1000 yes 1 1 100 prepared 4 1 55697.495605 0.072
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.151
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=52875.092007
+ echo index rpi5-32 scalability-yes-1-1000-100-1722348284 1000 yes 1 1 100 prepared 8 1 52875.092007 0.151
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-1024-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:06:37 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 15:06:37 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 6dc48a3791 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-100-1722348397
+ git checkout -b scalability-yes-1024-1000-100-1722348397
Switched to a new branch 'scalability-yes-1024-1000-100-1722348397'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-100-1722348397 0e58baa7c0] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-100-1722348397 1547a22e52] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:07:12 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:07:12 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-1024-1000-100-1722348397 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100 1 10 '1 4 8' 100
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-1024-1000-100-1722348397
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=1024
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=100
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=100
+ [[ 100 -ge 100000 ]]
+ DBNAME=index-1-100
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-100'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-100
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 100
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-100
+ psql index-1-100 -c 'vacuum analyze'
+ psql index-1-100 -c checkpoint
+ psql index-1-100 -c '\d+'
+ psql index-1-100 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/index.sql index-1-100
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.380
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=2629.547163
+ echo index rpi5-32 scalability-yes-1024-1000-100-1722348397 1000 yes 1024 1 100 simple 1 1 2629.547163 0.380
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.521
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7674.793026
+ echo index rpi5-32 scalability-yes-1024-1000-100-1722348397 1000 yes 1024 1 100 simple 4 1 7674.793026 0.521
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=1.761
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=4543.174567
+ echo index rpi5-32 scalability-yes-1024-1000-100-1722348397 1000 yes 1024 1 100 simple 8 1 4543.174567 1.761
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.051
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19760.784918
+ echo index rpi5-32 scalability-yes-1024-1000-100-1722348397 1000 yes 1024 1 100 prepared 1 1 19760.784918 0.051
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.080
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=50278.895987
+ echo index rpi5-32 scalability-yes-1024-1000-100-1722348397 1000 yes 1024 1 100 prepared 4 1 50278.895987 0.080
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.153
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=52291.137970
+ echo index rpi5-32 scalability-yes-1024-1000-100-1722348397 1000 yes 1024 1 100 prepared 8 1 52291.137970 0.153
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-8-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:08:30 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 15:08:30 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 1547a22e52 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-100-1722348510
+ git checkout -b scalability-yes-8-1000-100-1722348510
Switched to a new branch 'scalability-yes-8-1000-100-1722348510'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-100-1722348510 b6bd7766ad] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-100-1722348510 d8a4697d7b] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:09:06 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:09:06 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-8-1000-100-1722348510 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100 1 10 '1 4 8' 100
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-8-1000-100-1722348510
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=8
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=100
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=100
+ [[ 100 -ge 100000 ]]
+ DBNAME=index-1-100
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-100'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-100
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 100
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-100
+ psql index-1-100 -c 'vacuum analyze'
+ psql index-1-100 -c checkpoint
+ psql index-1-100 -c '\d+'
+ psql index-1-100 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/index.sql index-1-100
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.376
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=2657.727825
+ echo index rpi5-32 scalability-yes-8-1000-100-1722348510 1000 yes 8 1 100 simple 1 1 2657.727825 0.376
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.510
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7843.019959
+ echo index rpi5-32 scalability-yes-8-1000-100-1722348510 1000 yes 8 1 100 simple 4 1 7843.019959 0.510
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=1.706
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=4690.555310
+ echo index rpi5-32 scalability-yes-8-1000-100-1722348510 1000 yes 8 1 100 simple 8 1 4690.555310 1.706
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.050
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19918.218270
+ echo index rpi5-32 scalability-yes-8-1000-100-1722348510 1000 yes 8 1 100 prepared 1 1 19918.218270 0.050
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.073
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=54602.704931
+ echo index rpi5-32 scalability-yes-8-1000-100-1722348510 1000 yes 8 1 100 prepared 4 1 54602.704931 0.073
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.154
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=51876.851542
+ echo index rpi5-32 scalability-yes-8-1000-100-1722348510 1000 yes 8 1 100 prepared 8 1 51876.851542 0.154
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-512-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:10:23 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 15:10:23 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at d8a4697d7b fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-100-1722348624
+ git checkout -b scalability-yes-512-1000-100-1722348624
Switched to a new branch 'scalability-yes-512-1000-100-1722348624'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-100-1722348624 69bbca0fe4] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-100-1722348624 5677c89c68] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:10:59 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:10:59 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-512-1000-100-1722348624 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100 1 10 '1 4 8' 100
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-512-1000-100-1722348624
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=512
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=100
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=100
+ [[ 100 -ge 100000 ]]
+ DBNAME=index-1-100
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-100'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-100
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 100
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-100
+ psql index-1-100 -c 'vacuum analyze'
+ psql index-1-100 -c checkpoint
+ psql index-1-100 -c '\d+'
+ psql index-1-100 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/index.sql index-1-100
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.399
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=2505.443016
+ echo index rpi5-32 scalability-yes-512-1000-100-1722348624 1000 yes 512 1 100 simple 1 1 2505.443016 0.399
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.529
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7567.360501
+ echo index rpi5-32 scalability-yes-512-1000-100-1722348624 1000 yes 512 1 100 simple 4 1 7567.360501 0.529
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=1.783
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=4487.346882
+ echo index rpi5-32 scalability-yes-512-1000-100-1722348624 1000 yes 512 1 100 simple 8 1 4487.346882 1.783
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.051
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19633.345355
+ echo index rpi5-32 scalability-yes-512-1000-100-1722348624 1000 yes 512 1 100 prepared 1 1 19633.345355 0.051
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.085
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=47233.248546
+ echo index rpi5-32 scalability-yes-512-1000-100-1722348624 1000 yes 512 1 100 prepared 4 1 47233.248546 0.085
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.152
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=52587.690792
+ echo index rpi5-32 scalability-yes-512-1000-100-1722348624 1000 yes 512 1 100 prepared 8 1 52587.690792 0.152
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-128-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:12:17 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 15:12:17 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 5677c89c68 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-100-1722348737
+ git checkout -b scalability-yes-128-1000-100-1722348737
Switched to a new branch 'scalability-yes-128-1000-100-1722348737'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-100-1722348737 1102ff3af1] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-100-1722348737 b7e325b473] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:12:53 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:12:53 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-128-1000-100-1722348737 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100 1 10 '1 4 8' 100
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-128-1000-100-1722348737
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=128
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=100
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=100
+ [[ 100 -ge 100000 ]]
+ DBNAME=index-1-100
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-100'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-100
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 100
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-100
+ psql index-1-100 -c 'vacuum analyze'
+ psql index-1-100 -c checkpoint
+ psql index-1-100 -c '\d+'
+ psql index-1-100 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/index.sql index-1-100
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.386
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=2589.843026
+ echo index rpi5-32 scalability-yes-128-1000-100-1722348737 1000 yes 128 1 100 simple 1 1 2589.843026 0.386
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.507
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7894.110838
+ echo index rpi5-32 scalability-yes-128-1000-100-1722348737 1000 yes 128 1 100 simple 4 1 7894.110838 0.507
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=1.763
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=4537.142446
+ echo index rpi5-32 scalability-yes-128-1000-100-1722348737 1000 yes 128 1 100 simple 8 1 4537.142446 1.763
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.052
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19215.767091
+ echo index rpi5-32 scalability-yes-128-1000-100-1722348737 1000 yes 128 1 100 prepared 1 1 19215.767091 0.052
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.084
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=47404.266677
+ echo index rpi5-32 scalability-yes-128-1000-100-1722348737 1000 yes 128 1 100 prepared 4 1 47404.266677 0.084
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.175
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=45619.694506
+ echo index rpi5-32 scalability-yes-128-1000-100-1722348737 1000 yes 128 1 100 prepared 8 1 45619.694506 0.175
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-32-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:14:10 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 15:14:10 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at b7e325b473 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-100-1722348851
+ git checkout -b scalability-no-32-1000-100-1722348851
Switched to a new branch 'scalability-no-32-1000-100-1722348851'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-100-1722348851 356bd1e0d9] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:14:46 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:14:46 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-32-1000-100-1722348851 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100 1 10 '1 4 8' 100
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-32-1000-100-1722348851
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=32
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=100
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=100
+ [[ 100 -ge 100000 ]]
+ DBNAME=index-1-100
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-100'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-100
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 100
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-100
+ psql index-1-100 -c 'vacuum analyze'
+ psql index-1-100 -c checkpoint
+ psql index-1-100 -c '\d+'
+ psql index-1-100 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/index.sql index-1-100
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.393
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=2547.573173
+ echo index rpi5-32 scalability-no-32-1000-100-1722348851 1000 no 32 1 100 simple 1 1 2547.573173 0.393
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.505
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7920.204926
+ echo index rpi5-32 scalability-no-32-1000-100-1722348851 1000 no 32 1 100 simple 4 1 7920.204926 0.505
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=1.688
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=4740.108646
+ echo index rpi5-32 scalability-no-32-1000-100-1722348851 1000 no 32 1 100 simple 8 1 4740.108646 1.688
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.050
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20021.676744
+ echo index rpi5-32 scalability-no-32-1000-100-1722348851 1000 no 32 1 100 prepared 1 1 20021.676744 0.050
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.073
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=54497.750502
+ echo index rpi5-32 scalability-no-32-1000-100-1722348851 1000 no 32 1 100 prepared 4 1 54497.750502 0.073
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.155
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=51553.155745
+ echo index rpi5-32 scalability-no-32-1000-100-1722348851 1000 no 32 1 100 prepared 8 1 51553.155745 0.155
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-0-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:16:04 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 15:16:04 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 356bd1e0d9 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-100-1722348964
+ git checkout -b scalability-no-0-1000-100-1722348964
Switched to a new branch 'scalability-no-0-1000-100-1722348964'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:16:39 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:16:39 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-0-1000-100-1722348964 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100 1 10 '1 4 8' 100
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-0-1000-100-1722348964
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=0
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=100
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=100
+ [[ 100 -ge 100000 ]]
+ DBNAME=index-1-100
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-100'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-100
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 100
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-100
+ psql index-1-100 -c 'vacuum analyze'
+ psql index-1-100 -c checkpoint
+ psql index-1-100 -c '\d+'
+ psql index-1-100 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/index.sql index-1-100
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.405
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=2468.884385
+ echo index rpi5-32 scalability-no-0-1000-100-1722348964 1000 no 0 1 100 simple 1 1 2468.884385 0.405
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.672
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=5949.616232
+ echo index rpi5-32 scalability-no-0-1000-100-1722348964 1000 no 0 1 100 simple 4 1 5949.616232 0.672
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=1.872
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=4272.437323
+ echo index rpi5-32 scalability-no-0-1000-100-1722348964 1000 no 0 1 100 simple 8 1 4272.437323 1.872
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.052
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19246.329245
+ echo index rpi5-32 scalability-no-0-1000-100-1722348964 1000 no 0 1 100 prepared 1 1 19246.329245 0.052
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.082
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=48730.607052
+ echo index rpi5-32 scalability-no-0-1000-100-1722348964 1000 no 0 1 100 prepared 4 1 48730.607052 0.082
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.149
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=53659.388297
+ echo index rpi5-32 scalability-no-0-1000-100-1722348964 1000 no 0 1 100 prepared 8 1 53659.388297 0.149
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-1-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:17:57 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 15:17:57 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-100-1722349077
+ git checkout -b scalability-no-1-1000-100-1722349077
Switched to a new branch 'scalability-no-1-1000-100-1722349077'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-100-1722349077 131aa85aa4] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:18:32 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:18:32 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-1-1000-100-1722349077 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100 1 10 '1 4 8' 100
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-1-1000-100-1722349077
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=1
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=100
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=100
+ [[ 100 -ge 100000 ]]
+ DBNAME=index-1-100
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-100'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-100
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 100
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-100
+ psql index-1-100 -c 'vacuum analyze'
+ psql index-1-100 -c checkpoint
+ psql index-1-100 -c '\d+'
+ psql index-1-100 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/index.sql index-1-100
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.413
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=2422.840472
+ echo index rpi5-32 scalability-no-1-1000-100-1722349077 1000 no 1 1 100 simple 1 1 2422.840472 0.413
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.586
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=6827.046196
+ echo index rpi5-32 scalability-no-1-1000-100-1722349077 1000 no 1 1 100 simple 4 1 6827.046196 0.586
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/index.sql index-1-100
++ awk '{print $4}'
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
+ lat_avg=1.883
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=4248.758678
+ echo index rpi5-32 scalability-no-1-1000-100-1722349077 1000 no 1 1 100 simple 8 1 4248.758678 1.883
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.050
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20072.204203
+ echo index rpi5-32 scalability-no-1-1000-100-1722349077 1000 no 1 1 100 prepared 1 1 20072.204203 0.050
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.072
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=55272.794553
+ echo index rpi5-32 scalability-no-1-1000-100-1722349077 1000 no 1 1 100 prepared 4 1 55272.794553 0.072
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.152
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=52548.299566
+ echo index rpi5-32 scalability-no-1-1000-100-1722349077 1000 no 1 1 100 prepared 8 1 52548.299566 0.152
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-1024-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:19:50 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 15:19:50 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 131aa85aa4 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-100-1722349190
+ git checkout -b scalability-no-1024-1000-100-1722349190
Switched to a new branch 'scalability-no-1024-1000-100-1722349190'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-100-1722349190 b695225bd1] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:20:25 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:20:25 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-1024-1000-100-1722349190 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100 1 10 '1 4 8' 100
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-1024-1000-100-1722349190
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=1024
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=100
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=100
+ [[ 100 -ge 100000 ]]
+ DBNAME=index-1-100
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-100'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-100
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 100
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-100
+ psql index-1-100 -c 'vacuum analyze'
+ psql index-1-100 -c checkpoint
+ psql index-1-100 -c '\d+'
+ psql index-1-100 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/index.sql index-1-100
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.395
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=2529.114222
+ echo index rpi5-32 scalability-no-1024-1000-100-1722349190 1000 no 1024 1 100 simple 1 1 2529.114222 0.395
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.508
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7871.148350
+ echo index rpi5-32 scalability-no-1024-1000-100-1722349190 1000 no 1024 1 100 simple 4 1 7871.148350 0.508
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=1.838
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=4353.591050
+ echo index rpi5-32 scalability-no-1024-1000-100-1722349190 1000 no 1024 1 100 simple 8 1 4353.591050 1.838
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.051
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19427.038980
+ echo index rpi5-32 scalability-no-1024-1000-100-1722349190 1000 no 1024 1 100 prepared 1 1 19427.038980 0.051
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.081
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=49338.695054
+ echo index rpi5-32 scalability-no-1024-1000-100-1722349190 1000 no 1024 1 100 prepared 4 1 49338.695054 0.081
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.159
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=50341.349511
+ echo index rpi5-32 scalability-no-1024-1000-100-1722349190 1000 no 1024 1 100 prepared 8 1 50341.349511 0.159
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-8-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:21:43 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 15:21:43 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at b695225bd1 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-100-1722349303
+ git checkout -b scalability-no-8-1000-100-1722349303
Switched to a new branch 'scalability-no-8-1000-100-1722349303'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-100-1722349303 253380b96d] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:22:19 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:22:19 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-8-1000-100-1722349303 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100 1 10 '1 4 8' 100
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-8-1000-100-1722349303
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=8
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=100
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=100
+ [[ 100 -ge 100000 ]]
+ DBNAME=index-1-100
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-100'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-100
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 100
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-100
+ psql index-1-100 -c 'vacuum analyze'
+ psql index-1-100 -c checkpoint
+ psql index-1-100 -c '\d+'
+ psql index-1-100 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/index.sql index-1-100
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.387
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=2582.122004
+ echo index rpi5-32 scalability-no-8-1000-100-1722349303 1000 no 8 1 100 simple 1 1 2582.122004 0.387
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.487
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=8216.992621
+ echo index rpi5-32 scalability-no-8-1000-100-1722349303 1000 no 8 1 100 simple 4 1 8216.992621 0.487
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=1.672
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=4783.353382
+ echo index rpi5-32 scalability-no-8-1000-100-1722349303 1000 no 8 1 100 simple 8 1 4783.353382 1.672
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.055
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18194.255500
+ echo index rpi5-32 scalability-no-8-1000-100-1722349303 1000 no 8 1 100 prepared 1 1 18194.255500 0.055
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.074
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=54288.502223
+ echo index rpi5-32 scalability-no-8-1000-100-1722349303 1000 no 8 1 100 prepared 4 1 54288.502223 0.074
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.152
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=52611.761381
+ echo index rpi5-32 scalability-no-8-1000-100-1722349303 1000 no 8 1 100 prepared 8 1 52611.761381 0.152
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-512-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:23:36 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 15:23:36 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 253380b96d fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-100-1722349416
+ git checkout -b scalability-no-512-1000-100-1722349416
Switched to a new branch 'scalability-no-512-1000-100-1722349416'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-100-1722349416 029dac62b5] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:24:11 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:24:11 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-512-1000-100-1722349416 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100 1 10 '1 4 8' 100
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-512-1000-100-1722349416
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=512
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=100
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=100
+ [[ 100 -ge 100000 ]]
+ DBNAME=index-1-100
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-100'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-100
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 100
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-100
+ psql index-1-100 -c 'vacuum analyze'
+ psql index-1-100 -c checkpoint
+ psql index-1-100 -c '\d+'
+ psql index-1-100 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/index.sql index-1-100
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.397
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=2516.715423
+ echo index rpi5-32 scalability-no-512-1000-100-1722349416 1000 no 512 1 100 simple 1 1 2516.715423 0.397
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.513
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7801.176183
+ echo index rpi5-32 scalability-no-512-1000-100-1722349416 1000 no 512 1 100 simple 4 1 7801.176183 0.513
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=1.821
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=4392.239440
+ echo index rpi5-32 scalability-no-512-1000-100-1722349416 1000 no 512 1 100 simple 8 1 4392.239440 1.821
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.053
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19004.172138
+ echo index rpi5-32 scalability-no-512-1000-100-1722349416 1000 no 512 1 100 prepared 1 1 19004.172138 0.053
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.075
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=53447.632702
+ echo index rpi5-32 scalability-no-512-1000-100-1722349416 1000 no 512 1 100 prepared 4 1 53447.632702 0.075
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.153
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=52378.887089
+ echo index rpi5-32 scalability-no-512-1000-100-1722349416 1000 no 512 1 100 prepared 8 1 52378.887089 0.153
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-128-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:25:29 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 15:25:29 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 029dac62b5 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-100-1722349529
+ git checkout -b scalability-no-128-1000-100-1722349529
Switched to a new branch 'scalability-no-128-1000-100-1722349529'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ patch -p1
+ sed s/MY_PLACEHOLDER/128/
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-100-1722349529 3dcdc0da20] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:26:04 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:26:04 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-128-1000-100-1722349529 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100 1 10 '1 4 8' 100
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-128-1000-100-1722349529
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=128
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=100
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=100
+ [[ 100 -ge 100000 ]]
+ DBNAME=index-1-100
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-100'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-100
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 100
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ for j in `seq 1 $i`
+ c=3
+ echo 'create index on t (c3);'
+ for j in `seq 1 $i`
+ c=4
+ echo 'create index on t (c4);'
+ for j in `seq 1 $i`
+ c=5
+ echo 'create index on t (c5);'
+ for j in `seq 1 $i`
+ c=6
+ echo 'create index on t (c6);'
+ for j in `seq 1 $i`
+ c=7
+ echo 'create index on t (c7);'
+ for j in `seq 1 $i`
+ c=8
+ echo 'create index on t (c8);'
+ for j in `seq 1 $i`
+ c=9
+ echo 'create index on t (c9);'
+ for j in `seq 1 $i`
+ c=10
+ echo 'create index on t (c10);'
+ for j in `seq 1 $i`
+ c=11
+ echo 'create index on t (c11);'
+ for j in `seq 1 $i`
+ c=12
+ echo 'create index on t (c12);'
+ for j in `seq 1 $i`
+ c=13
+ echo 'create index on t (c13);'
+ for j in `seq 1 $i`
+ c=14
+ echo 'create index on t (c14);'
+ for j in `seq 1 $i`
+ c=15
+ echo 'create index on t (c15);'
+ for j in `seq 1 $i`
+ c=16
+ echo 'create index on t (c16);'
+ for j in `seq 1 $i`
+ c=17
+ echo 'create index on t (c17);'
+ for j in `seq 1 $i`
+ c=18
+ echo 'create index on t (c18);'
+ for j in `seq 1 $i`
+ c=19
+ echo 'create index on t (c19);'
+ for j in `seq 1 $i`
+ c=20
+ echo 'create index on t (c20);'
+ for j in `seq 1 $i`
+ c=21
+ echo 'create index on t (c21);'
+ for j in `seq 1 $i`
+ c=22
+ echo 'create index on t (c22);'
+ for j in `seq 1 $i`
+ c=23
+ echo 'create index on t (c23);'
+ for j in `seq 1 $i`
+ c=24
+ echo 'create index on t (c24);'
+ for j in `seq 1 $i`
+ c=25
+ echo 'create index on t (c25);'
+ for j in `seq 1 $i`
+ c=26
+ echo 'create index on t (c26);'
+ for j in `seq 1 $i`
+ c=27
+ echo 'create index on t (c27);'
+ for j in `seq 1 $i`
+ c=28
+ echo 'create index on t (c28);'
+ for j in `seq 1 $i`
+ c=29
+ echo 'create index on t (c29);'
+ for j in `seq 1 $i`
+ c=30
+ echo 'create index on t (c30);'
+ for j in `seq 1 $i`
+ c=31
+ echo 'create index on t (c31);'
+ for j in `seq 1 $i`
+ c=32
+ echo 'create index on t (c32);'
+ for j in `seq 1 $i`
+ c=33
+ echo 'create index on t (c33);'
+ for j in `seq 1 $i`
+ c=34
+ echo 'create index on t (c34);'
+ for j in `seq 1 $i`
+ c=35
+ echo 'create index on t (c35);'
+ for j in `seq 1 $i`
+ c=36
+ echo 'create index on t (c36);'
+ for j in `seq 1 $i`
+ c=37
+ echo 'create index on t (c37);'
+ for j in `seq 1 $i`
+ c=38
+ echo 'create index on t (c38);'
+ for j in `seq 1 $i`
+ c=39
+ echo 'create index on t (c39);'
+ for j in `seq 1 $i`
+ c=40
+ echo 'create index on t (c40);'
+ for j in `seq 1 $i`
+ c=41
+ echo 'create index on t (c41);'
+ for j in `seq 1 $i`
+ c=42
+ echo 'create index on t (c42);'
+ for j in `seq 1 $i`
+ c=43
+ echo 'create index on t (c43);'
+ for j in `seq 1 $i`
+ c=44
+ echo 'create index on t (c44);'
+ for j in `seq 1 $i`
+ c=45
+ echo 'create index on t (c45);'
+ for j in `seq 1 $i`
+ c=46
+ echo 'create index on t (c46);'
+ for j in `seq 1 $i`
+ c=47
+ echo 'create index on t (c47);'
+ for j in `seq 1 $i`
+ c=48
+ echo 'create index on t (c48);'
+ for j in `seq 1 $i`
+ c=49
+ echo 'create index on t (c49);'
+ for j in `seq 1 $i`
+ c=50
+ echo 'create index on t (c50);'
+ for j in `seq 1 $i`
+ c=51
+ echo 'create index on t (c51);'
+ for j in `seq 1 $i`
+ c=52
+ echo 'create index on t (c52);'
+ for j in `seq 1 $i`
+ c=53
+ echo 'create index on t (c53);'
+ for j in `seq 1 $i`
+ c=54
+ echo 'create index on t (c54);'
+ for j in `seq 1 $i`
+ c=55
+ echo 'create index on t (c55);'
+ for j in `seq 1 $i`
+ c=56
+ echo 'create index on t (c56);'
+ for j in `seq 1 $i`
+ c=57
+ echo 'create index on t (c57);'
+ for j in `seq 1 $i`
+ c=58
+ echo 'create index on t (c58);'
+ for j in `seq 1 $i`
+ c=59
+ echo 'create index on t (c59);'
+ for j in `seq 1 $i`
+ c=60
+ echo 'create index on t (c60);'
+ for j in `seq 1 $i`
+ c=61
+ echo 'create index on t (c61);'
+ for j in `seq 1 $i`
+ c=62
+ echo 'create index on t (c62);'
+ for j in `seq 1 $i`
+ c=63
+ echo 'create index on t (c63);'
+ for j in `seq 1 $i`
+ c=64
+ echo 'create index on t (c64);'
+ for j in `seq 1 $i`
+ c=65
+ echo 'create index on t (c65);'
+ for j in `seq 1 $i`
+ c=66
+ echo 'create index on t (c66);'
+ for j in `seq 1 $i`
+ c=67
+ echo 'create index on t (c67);'
+ for j in `seq 1 $i`
+ c=68
+ echo 'create index on t (c68);'
+ for j in `seq 1 $i`
+ c=69
+ echo 'create index on t (c69);'
+ for j in `seq 1 $i`
+ c=70
+ echo 'create index on t (c70);'
+ for j in `seq 1 $i`
+ c=71
+ echo 'create index on t (c71);'
+ for j in `seq 1 $i`
+ c=72
+ echo 'create index on t (c72);'
+ for j in `seq 1 $i`
+ c=73
+ echo 'create index on t (c73);'
+ for j in `seq 1 $i`
+ c=74
+ echo 'create index on t (c74);'
+ for j in `seq 1 $i`
+ c=75
+ echo 'create index on t (c75);'
+ for j in `seq 1 $i`
+ c=76
+ echo 'create index on t (c76);'
+ for j in `seq 1 $i`
+ c=77
+ echo 'create index on t (c77);'
+ for j in `seq 1 $i`
+ c=78
+ echo 'create index on t (c78);'
+ for j in `seq 1 $i`
+ c=79
+ echo 'create index on t (c79);'
+ for j in `seq 1 $i`
+ c=80
+ echo 'create index on t (c80);'
+ for j in `seq 1 $i`
+ c=81
+ echo 'create index on t (c81);'
+ for j in `seq 1 $i`
+ c=82
+ echo 'create index on t (c82);'
+ for j in `seq 1 $i`
+ c=83
+ echo 'create index on t (c83);'
+ for j in `seq 1 $i`
+ c=84
+ echo 'create index on t (c84);'
+ for j in `seq 1 $i`
+ c=85
+ echo 'create index on t (c85);'
+ for j in `seq 1 $i`
+ c=86
+ echo 'create index on t (c86);'
+ for j in `seq 1 $i`
+ c=87
+ echo 'create index on t (c87);'
+ for j in `seq 1 $i`
+ c=88
+ echo 'create index on t (c88);'
+ for j in `seq 1 $i`
+ c=89
+ echo 'create index on t (c89);'
+ for j in `seq 1 $i`
+ c=90
+ echo 'create index on t (c90);'
+ for j in `seq 1 $i`
+ c=91
+ echo 'create index on t (c91);'
+ for j in `seq 1 $i`
+ c=92
+ echo 'create index on t (c92);'
+ for j in `seq 1 $i`
+ c=93
+ echo 'create index on t (c93);'
+ for j in `seq 1 $i`
+ c=94
+ echo 'create index on t (c94);'
+ for j in `seq 1 $i`
+ c=95
+ echo 'create index on t (c95);'
+ for j in `seq 1 $i`
+ c=96
+ echo 'create index on t (c96);'
+ for j in `seq 1 $i`
+ c=97
+ echo 'create index on t (c97);'
+ for j in `seq 1 $i`
+ c=98
+ echo 'create index on t (c98);'
+ for j in `seq 1 $i`
+ c=99
+ echo 'create index on t (c99);'
+ for j in `seq 1 $i`
+ c=100
+ echo 'create index on t (c100);'
+ for j in `seq 1 $i`
+ c=1
+ echo 'create index on t (c1);'
+ psql index-1-100
+ psql index-1-100 -c 'vacuum analyze'
+ psql index-1-100 -c checkpoint
+ psql index-1-100 -c '\d+'
+ psql index-1-100 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/index.sql index-1-100
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.382
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=2620.511103
+ echo index rpi5-32 scalability-no-128-1000-100-1722349529 1000 no 128 1 100 simple 1 1 2620.511103 0.382
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.523
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7651.051626
+ echo index rpi5-32 scalability-no-128-1000-100-1722349529 1000 no 128 1 100 simple 4 1 7651.051626 0.523
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=1.694
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=4723.583328
+ echo index rpi5-32 scalability-no-128-1000-100-1722349529 1000 no 128 1 100 simple 8 1 4723.583328 1.694
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.051
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19727.932867
+ echo index rpi5-32 scalability-no-128-1000-100-1722349529 1000 no 128 1 100 prepared 1 1 19727.932867 0.051
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.087
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=46145.844754
+ echo index rpi5-32 scalability-no-128-1000-100-1722349529 1000 no 128 1 100 prepared 4 1 46145.844754 0.087
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/index.sql index-1-100
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.149
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-100/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=53521.866086
+ echo index rpi5-32 scalability-no-128-1000-100-1722349529 1000 no 128 1 100 prepared 8 1 53521.866086 0.149
+ pg_ctl -D /mnt/data/data-test stop
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-32-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-32-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:27:22 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 15:27:22 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 3dcdc0da20 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-100-1722349642
+ git checkout -b scalability-yes-32-1000-100-1722349642
Switched to a new branch 'scalability-yes-32-1000-100-1722349642'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-100-1722349642 5ebba42312] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-100-1722349642 923fa40a4c] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:27:58 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:27:58 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-32-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-32-1000-100-1722349642 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-32-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-0-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-0-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:29:19 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 15:29:19 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 923fa40a4c fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-100-1722349759
+ git checkout -b scalability-yes-0-1000-100-1722349759
Switched to a new branch 'scalability-yes-0-1000-100-1722349759'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-100-1722349759 e7974670db] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:29:56 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:29:56 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-0-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-0-1000-100-1722349759 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-0-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-1-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:31:17 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 15:31:17 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at e7974670db NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-100-1722349877
+ git checkout -b scalability-yes-1-1000-100-1722349877
Switched to a new branch 'scalability-yes-1-1000-100-1722349877'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-100-1722349877 b7b8938261] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-100-1722349877 5bff97cfd3] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:31:53 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:31:53 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-1-1000-100-1722349877 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1024-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-1024-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:33:14 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 15:33:14 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 5bff97cfd3 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-100-1722349994
+ git checkout -b scalability-yes-1024-1000-100-1722349994
Switched to a new branch 'scalability-yes-1024-1000-100-1722349994'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-100-1722349994 3b416dc78e] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-100-1722349994 2bfbb44362] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:33:50 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:33:50 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1024-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-1024-1000-100-1722349994 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1024-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-8-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-8-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:35:12 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 15:35:12 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 2bfbb44362 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-100-1722350112
+ git checkout -b scalability-yes-8-1000-100-1722350112
Switched to a new branch 'scalability-yes-8-1000-100-1722350112'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-100-1722350112 f17e8d1563] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-100-1722350112 f1b9f7294b] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:35:47 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:35:47 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-8-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-8-1000-100-1722350112 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-8-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-512-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-512-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:37:09 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 15:37:09 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at f1b9f7294b fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-100-1722350229
+ git checkout -b scalability-yes-512-1000-100-1722350229
Switched to a new branch 'scalability-yes-512-1000-100-1722350229'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-100-1722350229 12addd75f3] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-100-1722350229 cac0490c19] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:37:44 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:37:44 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-512-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-512-1000-100-1722350229 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-512-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-128-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-128-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:39:06 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 15:39:06 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at cac0490c19 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-100-1722350346
+ git checkout -b scalability-yes-128-1000-100-1722350346
Switched to a new branch 'scalability-yes-128-1000-100-1722350346'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-100-1722350346 c764e1c02d] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-100-1722350346 54f2d8353d] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:39:41 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:39:41 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-128-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-128-1000-100-1722350346 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-128-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-32-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-32-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:41:03 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 15:41:03 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 54f2d8353d fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-100-1722350463
+ git checkout -b scalability-no-32-1000-100-1722350463
Switched to a new branch 'scalability-no-32-1000-100-1722350463'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-100-1722350463 4d18f0afd7] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:41:38 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:41:38 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-32-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-32-1000-100-1722350463 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-32-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-0-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-0-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:43:00 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 15:43:00 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 4d18f0afd7 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-100-1722350580
+ git checkout -b scalability-no-0-1000-100-1722350580
Switched to a new branch 'scalability-no-0-1000-100-1722350580'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:43:36 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:43:36 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-0-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-0-1000-100-1722350580 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-0-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-1-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:44:57 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 15:44:57 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-100-1722350698
+ git checkout -b scalability-no-1-1000-100-1722350698
Switched to a new branch 'scalability-no-1-1000-100-1722350698'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-100-1722350698 61aceb240a] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:45:33 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:45:33 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-1-1000-100-1722350698 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1024-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-1024-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:46:55 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 15:46:55 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 61aceb240a fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-100-1722350815
+ git checkout -b scalability-no-1024-1000-100-1722350815
Switched to a new branch 'scalability-no-1024-1000-100-1722350815'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-100-1722350815 2e0e365f48] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:47:31 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:47:31 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1024-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-1024-1000-100-1722350815 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1024-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-8-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-8-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:48:53 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 15:48:53 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 2e0e365f48 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-100-1722350933
+ git checkout -b scalability-no-8-1000-100-1722350933
Switched to a new branch 'scalability-no-8-1000-100-1722350933'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-100-1722350933 9d3c3c9467] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:49:28 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:49:28 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-8-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-8-1000-100-1722350933 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-8-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-512-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-512-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:50:50 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 15:50:50 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 9d3c3c9467 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-100-1722351050
+ git checkout -b scalability-no-512-1000-100-1722351050
Switched to a new branch 'scalability-no-512-1000-100-1722351050'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-100-1722351050 948805cfa3] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:51:25 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:51:25 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-512-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-512-1000-100-1722351050 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-512-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-128-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-128-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:52:47 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 15:52:47 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 948805cfa3 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-100-1722351167
+ git checkout -b scalability-no-128-1000-100-1722351167
Switched to a new branch 'scalability-no-128-1000-100-1722351167'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-100-1722351167 72997be685] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:53:23 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:53:23 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-128-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-128-1000-100-1722351167 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-128-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-32-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-32-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:54:44 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 15:54:44 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 72997be685 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-100-1722351284
+ git checkout -b scalability-yes-32-1000-100-1722351284
Switched to a new branch 'scalability-yes-32-1000-100-1722351284'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-100-1722351284 2d52646c61] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-100-1722351284 1c0d9a1d3d] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:55:19 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:55:19 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-32-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-32-1000-100-1722351284 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-32-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-0-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-0-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:56:37 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 15:56:37 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 1c0d9a1d3d fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-100-1722351397
+ git checkout -b scalability-yes-0-1000-100-1722351397
Switched to a new branch 'scalability-yes-0-1000-100-1722351397'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-100-1722351397 1aa8b665c2] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:57:12 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:57:12 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-0-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-0-1000-100-1722351397 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-0-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-1-1000-100
+ env
++ date
+ echo Tue 30 Jul 15:58:29 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 15:58:29 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 1aa8b665c2 NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-100-1722351509
+ git checkout -b scalability-yes-1-1000-100-1722351509
Switched to a new branch 'scalability-yes-1-1000-100-1722351509'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-100-1722351509 559288d92b] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-100-1722351509 d40c63bddb] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 15:59:05 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 15:59:05 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-1-1000-100-1722351509 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1024-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-1024-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:00:22 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 16:00:22 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at d40c63bddb fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-100-1722351622
+ git checkout -b scalability-yes-1024-1000-100-1722351622
Switched to a new branch 'scalability-yes-1024-1000-100-1722351622'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-100-1722351622 29b33aafd7] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-100-1722351622 7f2fce376d] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:00:58 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:00:58 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1024-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-1024-1000-100-1722351622 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1024-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-8-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-8-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:02:15 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 16:02:15 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 7f2fce376d fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-100-1722351735
+ git checkout -b scalability-yes-8-1000-100-1722351735
Switched to a new branch 'scalability-yes-8-1000-100-1722351735'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-100-1722351735 07333cc97d] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-100-1722351735 6f08b48ea9] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:02:50 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:02:50 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-8-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-8-1000-100-1722351735 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-8-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-512-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-512-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:04:08 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 16:04:08 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 6f08b48ea9 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-100-1722351848
+ git checkout -b scalability-yes-512-1000-100-1722351848
Switched to a new branch 'scalability-yes-512-1000-100-1722351848'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-100-1722351848 54628884d2] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-100-1722351848 3d798a5112] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:04:43 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:04:43 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-512-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-512-1000-100-1722351848 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-512-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-128-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-128-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:06:01 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 16:06:01 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 3d798a5112 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-100-1722351961
+ git checkout -b scalability-yes-128-1000-100-1722351961
Switched to a new branch 'scalability-yes-128-1000-100-1722351961'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-100-1722351961 258e4201a0] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-100-1722351961 612b2e20fa] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:06:36 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:06:36 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-128-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-128-1000-100-1722351961 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-128-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-32-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-32-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:07:54 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 16:07:54 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 612b2e20fa fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-100-1722352074
+ git checkout -b scalability-no-32-1000-100-1722352074
Switched to a new branch 'scalability-no-32-1000-100-1722352074'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-100-1722352074 e1e46872db] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:08:29 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:08:29 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-32-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-32-1000-100-1722352074 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-32-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-0-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-0-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:09:47 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 16:09:47 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at e1e46872db fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-100-1722352187
+ git checkout -b scalability-no-0-1000-100-1722352187
Switched to a new branch 'scalability-no-0-1000-100-1722352187'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:10:22 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:10:22 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-0-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-0-1000-100-1722352187 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-0-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-1-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:11:38 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 16:11:38 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-100-1722352299
+ git checkout -b scalability-no-1-1000-100-1722352299
Switched to a new branch 'scalability-no-1-1000-100-1722352299'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-100-1722352299 22017e7b1a] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:12:14 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:12:14 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-1-1000-100-1722352299 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1024-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-1024-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:13:31 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 16:13:31 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 22017e7b1a fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-100-1722352411
+ git checkout -b scalability-no-1024-1000-100-1722352411
Switched to a new branch 'scalability-no-1024-1000-100-1722352411'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-100-1722352411 118e32e9a0] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:14:06 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:14:06 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1024-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-1024-1000-100-1722352411 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1024-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-8-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-8-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:15:24 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 16:15:24 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 118e32e9a0 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-100-1722352524
+ git checkout -b scalability-no-8-1000-100-1722352524
Switched to a new branch 'scalability-no-8-1000-100-1722352524'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-100-1722352524 3c65a528ca] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:15:59 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:15:59 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-8-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-8-1000-100-1722352524 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-8-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-512-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-512-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:17:16 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 16:17:16 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 3c65a528ca fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-100-1722352636
+ git checkout -b scalability-no-512-1000-100-1722352636
Switched to a new branch 'scalability-no-512-1000-100-1722352636'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-100-1722352636 23e7a759b6] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:17:52 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:17:52 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-512-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-512-1000-100-1722352636 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-512-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-128-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-128-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:19:09 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 16:19:09 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 23e7a759b6 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-100-1722352749
+ git checkout -b scalability-no-128-1000-100-1722352749
Switched to a new branch 'scalability-no-128-1000-100-1722352749'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-100-1722352749 44640dc5a4] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:19:44 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:19:44 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-128-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-128-1000-100-1722352749 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-128-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-32-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-32-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:21:01 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 16:21:01 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 44640dc5a4 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-100-1722352862
+ git checkout -b scalability-yes-32-1000-100-1722352862
Switched to a new branch 'scalability-yes-32-1000-100-1722352862'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-100-1722352862 0585538aa3] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-100-1722352862 e6544d4bff] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:21:37 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:21:37 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-32-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-32-1000-100-1722352862 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-32-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-0-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-0-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:22:54 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 16:22:54 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at e6544d4bff fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-100-1722352975
+ git checkout -b scalability-yes-0-1000-100-1722352975
Switched to a new branch 'scalability-yes-0-1000-100-1722352975'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-100-1722352975 f425c785fe] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:23:30 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:23:30 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-0-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-0-1000-100-1722352975 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-0-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-1-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:24:48 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 16:24:48 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at f425c785fe NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-100-1722353088
+ git checkout -b scalability-yes-1-1000-100-1722353088
Switched to a new branch 'scalability-yes-1-1000-100-1722353088'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-100-1722353088 8fdd27311d] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-100-1722353088 bcb255c9eb] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:25:24 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:25:24 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-1-1000-100-1722353088 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1024-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-1024-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:26:41 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 16:26:41 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at bcb255c9eb fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-100-1722353201
+ git checkout -b scalability-yes-1024-1000-100-1722353201
Switched to a new branch 'scalability-yes-1024-1000-100-1722353201'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-100-1722353201 2e6935bf5d] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-100-1722353201 807483ae30] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:27:17 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:27:17 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1024-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-1024-1000-100-1722353201 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1024-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-8-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-8-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:28:35 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 16:28:35 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 807483ae30 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-100-1722353315
+ git checkout -b scalability-yes-8-1000-100-1722353315
Switched to a new branch 'scalability-yes-8-1000-100-1722353315'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-100-1722353315 9d96569d2b] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-100-1722353315 1923c386a6] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:29:10 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:29:10 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-8-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-8-1000-100-1722353315 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-8-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-512-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-512-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:30:28 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 16:30:28 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 1923c386a6 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-100-1722353428
+ git checkout -b scalability-yes-512-1000-100-1722353428
Switched to a new branch 'scalability-yes-512-1000-100-1722353428'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-100-1722353428 3765080869] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-100-1722353428 7f153b1293] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:31:03 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:31:03 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-512-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-512-1000-100-1722353428 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-512-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-128-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-128-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:32:21 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 16:32:21 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 7f153b1293 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-100-1722353541
+ git checkout -b scalability-yes-128-1000-100-1722353541
Switched to a new branch 'scalability-yes-128-1000-100-1722353541'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-100-1722353541 27e5f38c13] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-100-1722353541 221d61f043] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:32:57 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:32:57 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-128-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-128-1000-100-1722353541 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-128-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-32-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-32-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:34:14 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 16:34:14 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 221d61f043 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-100-1722353655
+ git checkout -b scalability-no-32-1000-100-1722353655
Switched to a new branch 'scalability-no-32-1000-100-1722353655'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-100-1722353655 0011919082] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:34:50 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:34:50 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-32-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-32-1000-100-1722353655 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-32-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-0-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-0-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:36:08 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 16:36:08 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 0011919082 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-100-1722353768
+ git checkout -b scalability-no-0-1000-100-1722353768
Switched to a new branch 'scalability-no-0-1000-100-1722353768'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:36:43 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:36:43 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-0-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-0-1000-100-1722353768 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-0-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-1-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:38:01 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 16:38:01 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-100-1722353882
+ git checkout -b scalability-no-1-1000-100-1722353882
Switched to a new branch 'scalability-no-1-1000-100-1722353882'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-100-1722353882 9b01e71fc5] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:38:37 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:38:37 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-1-1000-100-1722353882 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1024-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-1024-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:39:55 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 16:39:55 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 9b01e71fc5 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-100-1722353995
+ git checkout -b scalability-no-1024-1000-100-1722353995
Switched to a new branch 'scalability-no-1024-1000-100-1722353995'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-100-1722353995 2518a7b503] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:40:30 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:40:30 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1024-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-1024-1000-100-1722353995 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1024-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-8-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-8-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:41:48 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 16:41:48 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 2518a7b503 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-100-1722354108
+ git checkout -b scalability-no-8-1000-100-1722354108
Switched to a new branch 'scalability-no-8-1000-100-1722354108'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-100-1722354108 4f4159db83] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:42:23 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:42:23 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-8-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-8-1000-100-1722354108 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-8-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-512-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-512-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:43:41 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 16:43:41 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 4f4159db83 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-100-1722354221
+ git checkout -b scalability-no-512-1000-100-1722354221
Switched to a new branch 'scalability-no-512-1000-100-1722354221'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-100-1722354221 e6d267b5a1] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:44:16 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:44:16 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-512-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-512-1000-100-1722354221 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-512-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-128-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-128-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:45:34 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 16:45:34 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at e6d267b5a1 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-100-1722354334
+ git checkout -b scalability-no-128-1000-100-1722354334
Switched to a new branch 'scalability-no-128-1000-100-1722354334'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-100-1722354334 2559f40028] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:46:09 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:46:09 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-128-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-128-1000-100-1722354334 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-128-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-32-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-32-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:47:27 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 16:47:27 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 2559f40028 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-100-1722354447
+ git checkout -b scalability-yes-32-1000-100-1722354447
Switched to a new branch 'scalability-yes-32-1000-100-1722354447'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-100-1722354447 dc52f52f16] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-100-1722354447 c1dd5f8e9f] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:48:03 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:48:03 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-32-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-32-1000-100-1722354447 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-32-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-0-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-0-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:52:09 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 16:52:09 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at c1dd5f8e9f fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-100-1722354729
+ git checkout -b scalability-yes-0-1000-100-1722354729
Switched to a new branch 'scalability-yes-0-1000-100-1722354729'
+ '[' yes == yes ']'
+ patch -p1
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-100-1722354729 92187c7ae9] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:52:45 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:52:45 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-0-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-0-1000-100-1722354729 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-0-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-1-1000-100
+ env
++ date
+ echo Tue 30 Jul 16:56:51 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 16:56:51 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 92187c7ae9 NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-100-1722355012
+ git checkout -b scalability-yes-1-1000-100-1722355012
Switched to a new branch 'scalability-yes-1-1000-100-1722355012'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-100-1722355012 f6aaef60c3] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-100-1722355012 592dee1ef3] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 16:57:27 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 16:57:27 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-1-1000-100-1722355012 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1024-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-1024-1000-100
+ env
++ date
+ echo Tue 30 Jul 17:01:36 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 17:01:36 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 592dee1ef3 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-100-1722355296
+ git checkout -b scalability-yes-1024-1000-100-1722355296
Switched to a new branch 'scalability-yes-1024-1000-100-1722355296'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-100-1722355296 442d592887] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-100-1722355296 aeda09624a] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 17:02:12 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 17:02:12 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1024-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-1024-1000-100-1722355296 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1024-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-8-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-8-1000-100
+ env
++ date
+ echo Tue 30 Jul 17:06:22 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 17:06:22 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at aeda09624a fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-100-1722355582
+ git checkout -b scalability-yes-8-1000-100-1722355582
Switched to a new branch 'scalability-yes-8-1000-100-1722355582'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-100-1722355582 0dd414d005] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-100-1722355582 ba6be73d38] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 17:06:58 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 17:06:58 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-8-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-8-1000-100-1722355582 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-8-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-512-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-512-1000-100
+ env
++ date
+ echo Tue 30 Jul 17:11:07 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 17:11:07 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at ba6be73d38 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-100-1722355868
+ git checkout -b scalability-yes-512-1000-100-1722355868
Switched to a new branch 'scalability-yes-512-1000-100-1722355868'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-100-1722355868 51abe21128] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-100-1722355868 a0d061a588] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 17:11:43 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 17:11:43 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-512-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-512-1000-100-1722355868 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-512-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-128-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-128-1000-100
+ env
++ date
+ echo Tue 30 Jul 17:15:51 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 17:15:51 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at a0d061a588 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-100-1722356151
+ git checkout -b scalability-yes-128-1000-100-1722356151
Switched to a new branch 'scalability-yes-128-1000-100-1722356151'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-100-1722356151 5522da4f05] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-100-1722356151 d31461dbc5] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 17:16:27 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 17:16:27 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-128-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-128-1000-100-1722356151 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-128-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-32-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-32-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-32-1000-100
+ env
++ date
+ echo Tue 30 Jul 17:20:35 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 17:20:35 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at d31461dbc5 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-100-1722356435
+ git checkout -b scalability-no-32-1000-100-1722356435
Switched to a new branch 'scalability-no-32-1000-100-1722356435'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-100-1722356435 d94623e00c] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 17:21:11 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 17:21:11 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-32-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-32-1000-100-1722356435 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-32-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-0-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-0-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-0-1000-100
+ env
++ date
+ echo Tue 30 Jul 17:25:18 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 17:25:18 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at d94623e00c fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-100-1722356719
+ git checkout -b scalability-no-0-1000-100-1722356719
Switched to a new branch 'scalability-no-0-1000-100-1722356719'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 17:25:54 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 17:25:54 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-0-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-0-1000-100-1722356719 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-0-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-1-1000-100
+ env
++ date
+ echo Tue 30 Jul 17:30:01 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 17:30:01 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-100-1722357002
+ git checkout -b scalability-no-1-1000-100-1722357002
Switched to a new branch 'scalability-no-1-1000-100-1722357002'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-100-1722357002 83815b7aff] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 17:30:37 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 17:30:37 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-1-1000-100-1722357002 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1024-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1024-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-1024-1000-100
+ env
++ date
+ echo Tue 30 Jul 17:34:44 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 17:34:44 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 83815b7aff fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-100-1722357285
+ git checkout -b scalability-no-1024-1000-100-1722357285
Switched to a new branch 'scalability-no-1024-1000-100-1722357285'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-100-1722357285 82300ec221] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 17:35:20 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 17:35:20 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1024-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-1024-1000-100-1722357285 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1024-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-8-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-8-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-8-1000-100
+ env
++ date
+ echo Tue 30 Jul 17:39:28 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 17:39:28 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 82300ec221 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-100-1722357568
+ git checkout -b scalability-no-8-1000-100-1722357568
Switched to a new branch 'scalability-no-8-1000-100-1722357568'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-100-1722357568 b2cfa5643d] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 17:40:04 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 17:40:04 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-8-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-8-1000-100-1722357568 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-8-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-512-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-512-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-512-1000-100
+ env
++ date
+ echo Tue 30 Jul 17:44:11 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 17:44:11 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at b2cfa5643d fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-100-1722357851
+ git checkout -b scalability-no-512-1000-100-1722357851
Switched to a new branch 'scalability-no-512-1000-100-1722357851'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-100-1722357851 108120346e] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 17:44:47 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 17:44:47 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-512-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-512-1000-100-1722357851 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-512-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-128-1000-100
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-128-1000-100
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-128-1000-100
+ env
++ date
+ echo Tue 30 Jul 17:48:55 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 17:48:55 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 108120346e fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-100-1722358135
+ git checkout -b scalability-no-128-1000-100-1722358135
Switched to a new branch 'scalability-no-128-1000-100-1722358135'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-100-1722358135 40b34b9c76] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-100 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 17:49:31 BST 2024 'RUN   files: 1000  partitions: 100'
Tue 30 Jul 17:49:31 BST 2024 RUN   files: 1000  partitions: 100
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-100/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-128-1000-100/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-128-1000-100-1722358135 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-128-1000-100 1 10 '1 4 8' 100
+ pg_ctl -D /mnt/data/data-test stop
+ for p in $PARTITIONS
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-32-1000-1
+ env
++ date
+ echo Tue 30 Jul 17:53:38 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 17:53:38 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 40b34b9c76 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-1-1722358419
+ git checkout -b scalability-yes-32-1000-1-1722358419
Switched to a new branch 'scalability-yes-32-1000-1-1722358419'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-1-1722358419 c380764519] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-1-1722358419 1a3b683bb1] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 17:54:53 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 17:54:53 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-32-1000-1-1722358419 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1 1 10 '1 4 8' 1
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-32-1000-1-1722358419
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=32
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1
+ [[ 1 -ge 100000 ]]
+ DBNAME=index-1-1
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ psql index-1-1
+ psql index-1-1 -c 'vacuum analyze'
+ psql index-1-1 -c checkpoint
+ psql index-1-1 -c '\d+'
+ psql index-1-1 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/index.sql index-1-1
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.141
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7075.602624
+ echo index rpi5-32 scalability-yes-32-1000-1-1722358419 1000 yes 32 1 1 simple 1 1 7075.602624 0.141
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.218
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18356.763164
+ echo index rpi5-32 scalability-yes-32-1000-1-1722358419 1000 yes 32 1 1 simple 4 1 18356.763164 0.218
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.424
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18849.026262
+ echo index rpi5-32 scalability-yes-32-1000-1-1722358419 1000 yes 32 1 1 simple 8 1 18849.026262 0.424
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.049
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20262.954401
+ echo index rpi5-32 scalability-yes-32-1000-1-1722358419 1000 yes 32 1 1 prepared 1 1 20262.954401 0.049
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.074
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=54238.744141
+ echo index rpi5-32 scalability-yes-32-1000-1-1722358419 1000 yes 32 1 1 prepared 4 1 54238.744141 0.074
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.162
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=49288.222802
+ echo index rpi5-32 scalability-yes-32-1000-1-1722358419 1000 yes 32 1 1 prepared 8 1 49288.222802 0.162
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-0-1000-1
+ env
++ date
+ echo Tue 30 Jul 17:56:10 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 17:56:10 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 1a3b683bb1 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-1-1722358570
+ git checkout -b scalability-yes-0-1000-1-1722358570
Switched to a new branch 'scalability-yes-0-1000-1-1722358570'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-1-1722358570 c7ed1fe986] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 17:57:24 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 17:57:24 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-0-1000-1-1722358570 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1 1 10 '1 4 8' 1
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-0-1000-1-1722358570
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=0
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1
+ [[ 1 -ge 100000 ]]
+ DBNAME=index-1-1
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ psql index-1-1
+ psql index-1-1 -c 'vacuum analyze'
+ psql index-1-1 -c checkpoint
+ psql index-1-1 -c '\d+'
+ psql index-1-1 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/index.sql index-1-1
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.134
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7466.952494
+ echo index rpi5-32 scalability-yes-0-1000-1-1722358570 1000 yes 0 1 1 simple 1 1 7466.952494 0.134
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.177
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=22599.435324
+ echo index rpi5-32 scalability-yes-0-1000-1-1722358570 1000 yes 0 1 1 simple 4 1 22599.435324 0.177
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.388
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20616.470640
+ echo index rpi5-32 scalability-yes-0-1000-1-1722358570 1000 yes 0 1 1 simple 8 1 20616.470640 0.388
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.050
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20079.056333
+ echo index rpi5-32 scalability-yes-0-1000-1-1722358570 1000 yes 0 1 1 prepared 1 1 20079.056333 0.050
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.078
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=51260.801183
+ echo index rpi5-32 scalability-yes-0-1000-1-1722358570 1000 yes 0 1 1 prepared 4 1 51260.801183 0.078
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.158
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=50720.769141
+ echo index rpi5-32 scalability-yes-0-1000-1-1722358570 1000 yes 0 1 1 prepared 8 1 50720.769141 0.158
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-1-1000-1
+ env
++ date
+ echo Tue 30 Jul 17:58:40 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 17:58:40 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at c7ed1fe986 NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-1-1722358721
+ git checkout -b scalability-yes-1-1000-1-1722358721
Switched to a new branch 'scalability-yes-1-1000-1-1722358721'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-1-1722358721 e4f60fce17] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-1-1722358721 d46b28a5be] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 17:59:56 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 17:59:56 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-1-1000-1-1722358721 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1 1 10 '1 4 8' 1
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-1-1000-1-1722358721
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=1
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1
+ [[ 1 -ge 100000 ]]
+ DBNAME=index-1-1
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ psql index-1-1
+ psql index-1-1 -c 'vacuum analyze'
+ psql index-1-1 -c checkpoint
+ psql index-1-1 -c '\d+'
+ psql index-1-1 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/index.sql index-1-1
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.130
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7674.954495
+ echo index rpi5-32 scalability-yes-1-1000-1-1722358721 1000 yes 1 1 1 simple 1 1 7674.954495 0.130
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.170
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=23580.809093
+ echo index rpi5-32 scalability-yes-1-1000-1-1722358721 1000 yes 1 1 1 simple 4 1 23580.809093 0.170
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.383
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20881.543295
+ echo index rpi5-32 scalability-yes-1-1000-1-1722358721 1000 yes 1 1 1 simple 8 1 20881.543295 0.383
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.052
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19368.308227
+ echo index rpi5-32 scalability-yes-1-1000-1-1722358721 1000 yes 1 1 1 prepared 1 1 19368.308227 0.052
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.085
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=47020.238221
+ echo index rpi5-32 scalability-yes-1-1000-1-1722358721 1000 yes 1 1 1 prepared 4 1 47020.238221 0.085
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.148
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=54045.892119
+ echo index rpi5-32 scalability-yes-1-1000-1-1722358721 1000 yes 1 1 1 prepared 8 1 54045.892119 0.148
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-1024-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:01:12 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 18:01:12 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at d46b28a5be fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-1-1722358872
+ git checkout -b scalability-yes-1024-1000-1-1722358872
Switched to a new branch 'scalability-yes-1024-1000-1-1722358872'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-1-1722358872 a127c6f0af] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-1-1722358872 fb41222cc1] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:02:27 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:02:27 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-1024-1000-1-1722358872 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1 1 10 '1 4 8' 1
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-1024-1000-1-1722358872
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=1024
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1
+ [[ 1 -ge 100000 ]]
+ DBNAME=index-1-1
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ psql index-1-1
+ psql index-1-1 -c 'vacuum analyze'
+ psql index-1-1 -c checkpoint
+ psql index-1-1 -c '\d+'
+ psql index-1-1 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/index.sql index-1-1
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.128
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7831.059093
+ echo index rpi5-32 scalability-yes-1024-1000-1-1722358872 1000 yes 1024 1 1 simple 1 1 7831.059093 0.128
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.180
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=22210.200331
+ echo index rpi5-32 scalability-yes-1024-1000-1-1722358872 1000 yes 1024 1 1 simple 4 1 22210.200331 0.180
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/index.sql index-1-1
++ awk '{print $4}'
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
+ lat_avg=0.413
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19365.534995
+ echo index rpi5-32 scalability-yes-1024-1000-1-1722358872 1000 yes 1024 1 1 simple 8 1 19365.534995 0.413
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.053
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18879.912235
+ echo index rpi5-32 scalability-yes-1024-1000-1-1722358872 1000 yes 1024 1 1 prepared 1 1 18879.912235 0.053
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.099
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=40532.336227
+ echo index rpi5-32 scalability-yes-1024-1000-1-1722358872 1000 yes 1024 1 1 prepared 4 1 40532.336227 0.099
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.151
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=52944.504385
+ echo index rpi5-32 scalability-yes-1024-1000-1-1722358872 1000 yes 1024 1 1 prepared 8 1 52944.504385 0.151
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-8-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:03:43 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 18:03:43 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at fb41222cc1 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-1-1722359023
+ git checkout -b scalability-yes-8-1000-1-1722359023
Switched to a new branch 'scalability-yes-8-1000-1-1722359023'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-1-1722359023 14174bbfaf] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-1-1722359023 ffcc6c421c] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:04:57 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:04:57 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-8-1000-1-1722359023 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1 1 10 '1 4 8' 1
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-8-1000-1-1722359023
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=8
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1
+ [[ 1 -ge 100000 ]]
+ DBNAME=index-1-1
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ psql index-1-1
+ psql index-1-1 -c 'vacuum analyze'
+ psql index-1-1 -c checkpoint
+ psql index-1-1 -c '\d+'
+ psql index-1-1 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/index.sql index-1-1
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.130
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7667.172650
+ echo index rpi5-32 scalability-yes-8-1000-1-1722359023 1000 yes 8 1 1 simple 1 1 7667.172650 0.130
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.190
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=21069.602385
+ echo index rpi5-32 scalability-yes-8-1000-1-1722359023 1000 yes 8 1 1 simple 4 1 21069.602385 0.190
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.406
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19710.469880
+ echo index rpi5-32 scalability-yes-8-1000-1-1722359023 1000 yes 8 1 1 simple 8 1 19710.469880 0.406
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.057
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=17396.490755
+ echo index rpi5-32 scalability-yes-8-1000-1-1722359023 1000 yes 8 1 1 prepared 1 1 17396.490755 0.057
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.073
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=54908.594379
+ echo index rpi5-32 scalability-yes-8-1000-1-1722359023 1000 yes 8 1 1 prepared 4 1 54908.594379 0.073
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.146
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=54717.324014
+ echo index rpi5-32 scalability-yes-8-1000-1-1722359023 1000 yes 8 1 1 prepared 8 1 54717.324014 0.146
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-512-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:06:13 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 18:06:13 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at ffcc6c421c fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-1-1722359174
+ git checkout -b scalability-yes-512-1000-1-1722359174
Switched to a new branch 'scalability-yes-512-1000-1-1722359174'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-1-1722359174 ad56217e80] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-1-1722359174 edf7eb652c] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:07:28 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:07:28 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-512-1000-1-1722359174 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1 1 10 '1 4 8' 1
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-512-1000-1-1722359174
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=512
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1
+ [[ 1 -ge 100000 ]]
+ DBNAME=index-1-1
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ psql index-1-1
+ psql index-1-1 -c 'vacuum analyze'
+ psql index-1-1 -c checkpoint
+ psql index-1-1 -c '\d+'
+ psql index-1-1 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/index.sql index-1-1
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.137
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7323.901005
+ echo index rpi5-32 scalability-yes-512-1000-1-1722359174 1000 yes 512 1 1 simple 1 1 7323.901005 0.137
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.184
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=21756.503942
+ echo index rpi5-32 scalability-yes-512-1000-1-1722359174 1000 yes 512 1 1 simple 4 1 21756.503942 0.184
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.390
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20495.160615
+ echo index rpi5-32 scalability-yes-512-1000-1-1722359174 1000 yes 512 1 1 simple 8 1 20495.160615 0.390
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.054
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18608.578112
+ echo index rpi5-32 scalability-yes-512-1000-1-1722359174 1000 yes 512 1 1 prepared 1 1 18608.578112 0.054
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.074
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=53783.765156
+ echo index rpi5-32 scalability-yes-512-1000-1-1722359174 1000 yes 512 1 1 prepared 4 1 53783.765156 0.074
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.165
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=48568.739644
+ echo index rpi5-32 scalability-yes-512-1000-1-1722359174 1000 yes 512 1 1 prepared 8 1 48568.739644 0.165
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-128-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:08:43 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 18:08:43 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at edf7eb652c fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-1-1722359324
+ git checkout -b scalability-yes-128-1000-1-1722359324
Switched to a new branch 'scalability-yes-128-1000-1-1722359324'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-1-1722359324 ed446fe56b] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-1-1722359324 add710826b] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:09:58 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:09:58 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-128-1000-1-1722359324 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1 1 10 '1 4 8' 1
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-128-1000-1-1722359324
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=128
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1
+ [[ 1 -ge 100000 ]]
+ DBNAME=index-1-1
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ psql index-1-1
+ psql index-1-1 -c 'vacuum analyze'
+ psql index-1-1 -c checkpoint
+ psql index-1-1 -c '\d+'
+ psql index-1-1 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/index.sql index-1-1
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.134
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7470.028998
+ echo index rpi5-32 scalability-yes-128-1000-1-1722359324 1000 yes 128 1 1 simple 1 1 7470.028998 0.134
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.230
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=17428.514518
+ echo index rpi5-32 scalability-yes-128-1000-1-1722359324 1000 yes 128 1 1 simple 4 1 17428.514518 0.230
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.387
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20679.768938
+ echo index rpi5-32 scalability-yes-128-1000-1-1722359324 1000 yes 128 1 1 simple 8 1 20679.768938 0.387
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.052
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19068.364967
+ echo index rpi5-32 scalability-yes-128-1000-1-1722359324 1000 yes 128 1 1 prepared 1 1 19068.364967 0.052
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.078
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=51503.441867
+ echo index rpi5-32 scalability-yes-128-1000-1-1722359324 1000 yes 128 1 1 prepared 4 1 51503.441867 0.078
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.152
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=52541.936512
+ echo index rpi5-32 scalability-yes-128-1000-1-1722359324 1000 yes 128 1 1 prepared 8 1 52541.936512 0.152
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-32-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:11:14 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 18:11:14 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at add710826b fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-1-1722359475
+ git checkout -b scalability-no-32-1000-1-1722359475
Switched to a new branch 'scalability-no-32-1000-1-1722359475'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-1-1722359475 130fc34418] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:12:28 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:12:28 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-32-1000-1-1722359475 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1 1 10 '1 4 8' 1
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-32-1000-1-1722359475
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=32
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1
+ [[ 1 -ge 100000 ]]
+ DBNAME=index-1-1
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ psql index-1-1
+ psql index-1-1 -c 'vacuum analyze'
+ psql index-1-1 -c checkpoint
+ psql index-1-1 -c '\d+'
+ psql index-1-1 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/index.sql index-1-1
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.129
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7738.441149
+ echo index rpi5-32 scalability-no-32-1000-1-1722359475 1000 no 32 1 1 simple 1 1 7738.441149 0.129
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.174
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=22954.539271
+ echo index rpi5-32 scalability-no-32-1000-1-1722359475 1000 no 32 1 1 simple 4 1 22954.539271 0.174
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.393
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20363.533974
+ echo index rpi5-32 scalability-no-32-1000-1-1722359475 1000 no 32 1 1 simple 8 1 20363.533974 0.393
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.051
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19720.519120
+ echo index rpi5-32 scalability-no-32-1000-1-1722359475 1000 no 32 1 1 prepared 1 1 19720.519120 0.051
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.073
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=55097.162473
+ echo index rpi5-32 scalability-no-32-1000-1-1722359475 1000 no 32 1 1 prepared 4 1 55097.162473 0.073
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.150
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=53223.795701
+ echo index rpi5-32 scalability-no-32-1000-1-1722359475 1000 no 32 1 1 prepared 8 1 53223.795701 0.150
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-0-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:13:44 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 18:13:44 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 130fc34418 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-1-1722359624
+ git checkout -b scalability-no-0-1000-1-1722359624
Switched to a new branch 'scalability-no-0-1000-1-1722359624'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:14:58 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:14:58 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-0-1000-1-1722359624 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1 1 10 '1 4 8' 1
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-0-1000-1-1722359624
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=0
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1
+ [[ 1 -ge 100000 ]]
+ DBNAME=index-1-1
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ psql index-1-1
+ psql index-1-1 -c 'vacuum analyze'
+ psql index-1-1 -c checkpoint
+ psql index-1-1 -c '\d+'
+ psql index-1-1 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/index.sql index-1-1
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.127
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7894.598651
+ echo index rpi5-32 scalability-no-0-1000-1-1722359624 1000 no 0 1 1 simple 1 1 7894.598651 0.127
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.195
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20539.234554
+ echo index rpi5-32 scalability-no-0-1000-1-1722359624 1000 no 0 1 1 simple 4 1 20539.234554 0.195
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.393
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20361.481795
+ echo index rpi5-32 scalability-no-0-1000-1-1722359624 1000 no 0 1 1 simple 8 1 20361.481795 0.393
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.051
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19547.313166
+ echo index rpi5-32 scalability-no-0-1000-1-1722359624 1000 no 0 1 1 prepared 1 1 19547.313166 0.051
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.080
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=50261.414486
+ echo index rpi5-32 scalability-no-0-1000-1-1722359624 1000 no 0 1 1 prepared 4 1 50261.414486 0.080
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.147
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=54582.564049
+ echo index rpi5-32 scalability-no-0-1000-1-1722359624 1000 no 0 1 1 prepared 8 1 54582.564049 0.147
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-1-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:16:14 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 18:16:14 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-1-1722359774
+ git checkout -b scalability-no-1-1000-1-1722359774
Switched to a new branch 'scalability-no-1-1000-1-1722359774'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-1-1722359774 2be2cd4fd8] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:17:28 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:17:28 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-1-1000-1-1722359774 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1 1 10 '1 4 8' 1
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-1-1000-1-1722359774
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=1
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1
+ [[ 1 -ge 100000 ]]
+ DBNAME=index-1-1
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ psql index-1-1
+ psql index-1-1 -c 'vacuum analyze'
+ psql index-1-1 -c checkpoint
+ psql index-1-1 -c '\d+'
+ psql index-1-1 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/index.sql index-1-1
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.131
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7648.949315
+ echo index rpi5-32 scalability-no-1-1000-1-1722359774 1000 no 1 1 1 simple 1 1 7648.949315 0.131
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.186
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=21452.009036
+ echo index rpi5-32 scalability-no-1-1000-1-1722359774 1000 no 1 1 1 simple 4 1 21452.009036 0.186
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.398
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20088.976805
+ echo index rpi5-32 scalability-no-1-1000-1-1722359774 1000 no 1 1 1 simple 8 1 20088.976805 0.398
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.049
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20313.229556
+ echo index rpi5-32 scalability-no-1-1000-1-1722359774 1000 no 1 1 1 prepared 1 1 20313.229556 0.049
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.087
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=45841.977541
+ echo index rpi5-32 scalability-no-1-1000-1-1722359774 1000 no 1 1 1 prepared 4 1 45841.977541 0.087
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.159
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=50426.759941
+ echo index rpi5-32 scalability-no-1-1000-1-1722359774 1000 no 1 1 1 prepared 8 1 50426.759941 0.159
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-1024-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:18:44 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 18:18:44 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 2be2cd4fd8 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-1-1722359925
+ git checkout -b scalability-no-1024-1000-1-1722359925
Switched to a new branch 'scalability-no-1024-1000-1-1722359925'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-1-1722359925 4edcb11f98] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:19:59 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:19:59 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-1024-1000-1-1722359925 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1 1 10 '1 4 8' 1
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-1024-1000-1-1722359925
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=1024
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1
+ [[ 1 -ge 100000 ]]
+ DBNAME=index-1-1
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ psql index-1-1
+ psql index-1-1 -c 'vacuum analyze'
+ psql index-1-1 -c checkpoint
+ psql index-1-1 -c '\d+'
+ psql index-1-1 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/index.sql index-1-1
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.135
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7406.153053
+ echo index rpi5-32 scalability-no-1024-1000-1-1722359925 1000 no 1024 1 1 simple 1 1 7406.153053 0.135
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.171
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=23423.912076
+ echo index rpi5-32 scalability-no-1024-1000-1-1722359925 1000 no 1024 1 1 simple 4 1 23423.912076 0.171
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.380
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=21038.284616
+ echo index rpi5-32 scalability-no-1024-1000-1-1722359925 1000 no 1024 1 1 simple 8 1 21038.284616 0.380
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.053
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18825.776993
+ echo index rpi5-32 scalability-no-1024-1000-1-1722359925 1000 no 1024 1 1 prepared 1 1 18825.776993 0.053
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.072
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=55300.141231
+ echo index rpi5-32 scalability-no-1024-1000-1-1722359925 1000 no 1024 1 1 prepared 4 1 55300.141231 0.072
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.153
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=52456.234611
+ echo index rpi5-32 scalability-no-1024-1000-1-1722359925 1000 no 1024 1 1 prepared 8 1 52456.234611 0.153
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-8-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:21:15 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 18:21:15 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 4edcb11f98 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-1-1722360076
+ git checkout -b scalability-no-8-1000-1-1722360076
Switched to a new branch 'scalability-no-8-1000-1-1722360076'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-1-1722360076 4d10f9ed80] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:22:30 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:22:30 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-8-1000-1-1722360076 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1 1 10 '1 4 8' 1
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-8-1000-1-1722360076
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=8
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1
+ [[ 1 -ge 100000 ]]
+ DBNAME=index-1-1
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ psql index-1-1
+ psql index-1-1 -c 'vacuum analyze'
+ psql index-1-1 -c checkpoint
+ psql index-1-1 -c '\d+'
+ psql index-1-1 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/index.sql index-1-1
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.128
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7793.725531
+ echo index rpi5-32 scalability-no-8-1000-1-1722360076 1000 no 8 1 1 simple 1 1 7793.725531 0.128
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.179
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=22376.985456
+ echo index rpi5-32 scalability-no-8-1000-1-1722360076 1000 no 8 1 1 simple 4 1 22376.985456 0.179
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.382
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20940.817054
+ echo index rpi5-32 scalability-no-8-1000-1-1722360076 1000 no 8 1 1 simple 8 1 20940.817054 0.382
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.048
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20698.257881
+ echo index rpi5-32 scalability-no-8-1000-1-1722360076 1000 no 8 1 1 prepared 1 1 20698.257881 0.048
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.080
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=49743.054304
+ echo index rpi5-32 scalability-no-8-1000-1-1722360076 1000 no 8 1 1 prepared 4 1 49743.054304 0.080
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.168
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=47479.841222
+ echo index rpi5-32 scalability-no-8-1000-1-1722360076 1000 no 8 1 1 prepared 8 1 47479.841222 0.168
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-512-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:23:46 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 18:23:46 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 4d10f9ed80 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-1-1722360226
+ git checkout -b scalability-no-512-1000-1-1722360226
Switched to a new branch 'scalability-no-512-1000-1-1722360226'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-1-1722360226 79378a6b9b] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:25:01 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:25:01 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-512-1000-1-1722360226 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1 1 10 '1 4 8' 1
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-512-1000-1-1722360226
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=512
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1
+ [[ 1 -ge 100000 ]]
+ DBNAME=index-1-1
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ psql index-1-1
+ psql index-1-1 -c 'vacuum analyze'
+ psql index-1-1 -c checkpoint
+ psql index-1-1 -c '\d+'
+ psql index-1-1 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/index.sql index-1-1
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.136
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7361.442453
+ echo index rpi5-32 scalability-no-512-1000-1-1722360226 1000 no 512 1 1 simple 1 1 7361.442453 0.136
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.180
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=22173.557707
+ echo index rpi5-32 scalability-no-512-1000-1-1722360226 1000 no 512 1 1 simple 4 1 22173.557707 0.180
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.405
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19760.788558
+ echo index rpi5-32 scalability-no-512-1000-1-1722360226 1000 no 512 1 1 simple 8 1 19760.788558 0.405
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.049
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20457.742834
+ echo index rpi5-32 scalability-no-512-1000-1-1722360226 1000 no 512 1 1 prepared 1 1 20457.742834 0.049
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.080
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=50232.636024
+ echo index rpi5-32 scalability-no-512-1000-1-1722360226 1000 no 512 1 1 prepared 4 1 50232.636024 0.080
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.158
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=50513.440653
+ echo index rpi5-32 scalability-no-512-1000-1-1722360226 1000 no 512 1 1 prepared 8 1 50513.440653 0.158
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-128-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:26:17 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 18:26:17 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 79378a6b9b fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-1-1722360377
+ git checkout -b scalability-no-128-1000-1-1722360377
Switched to a new branch 'scalability-no-128-1000-1-1722360377'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-1-1722360377 8f12a1e8ae] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:27:30 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:27:30 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-128-1000-1-1722360377 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1 1 10 '1 4 8' 1
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-128-1000-1-1722360377
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=128
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=1
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=1
+ [[ 1 -ge 100000 ]]
+ DBNAME=index-1-1
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-1'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-1
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 1
+ for j in `seq 1 $i`
+ c=2
+ echo 'create index on t (c2);'
+ psql index-1-1
+ psql index-1-1 -c 'vacuum analyze'
+ psql index-1-1 -c checkpoint
+ psql index-1-1 -c '\d+'
+ psql index-1-1 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/index.sql index-1-1
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.135
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7392.410806
+ echo index rpi5-32 scalability-no-128-1000-1-1722360377 1000 no 128 1 1 simple 1 1 7392.410806 0.135
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.191
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20953.833766
+ echo index rpi5-32 scalability-no-128-1000-1-1722360377 1000 no 128 1 1 simple 4 1 20953.833766 0.191
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.380
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=21035.522284
+ echo index rpi5-32 scalability-no-128-1000-1-1722360377 1000 no 128 1 1 simple 8 1 21035.522284 0.380
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.051
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19578.542072
+ echo index rpi5-32 scalability-no-128-1000-1-1722360377 1000 no 128 1 1 prepared 1 1 19578.542072 0.051
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.074
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=53798.145899
+ echo index rpi5-32 scalability-no-128-1000-1-1722360377 1000 no 128 1 1 prepared 4 1 53798.145899 0.074
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/index.sql index-1-1
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.157
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-1/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=50891.533361
+ echo index rpi5-32 scalability-no-128-1000-1-1722360377 1000 no 128 1 1 prepared 8 1 50891.533361 0.157
+ pg_ctl -D /mnt/data/data-test stop
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-32-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-32-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:28:46 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 18:28:46 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 8f12a1e8ae fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-1-1722360527
+ git checkout -b scalability-yes-32-1000-1-1722360527
Switched to a new branch 'scalability-yes-32-1000-1-1722360527'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-1-1722360527 175374dfee] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-1-1722360527 c430d6d099] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:29:28 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:29:28 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-32-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-32-1000-1-1722360527 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-32-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-0-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-0-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:30:47 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 18:30:47 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at c430d6d099 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-1-1722360648
+ git checkout -b scalability-yes-0-1000-1-1722360648
Switched to a new branch 'scalability-yes-0-1000-1-1722360648'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-1-1722360648 0cd77a9de2] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:31:29 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:31:29 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-0-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-0-1000-1-1722360648 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-0-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-1-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:32:48 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 18:32:48 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 0cd77a9de2 NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-1-1722360768
+ git checkout -b scalability-yes-1-1000-1-1722360768
Switched to a new branch 'scalability-yes-1-1000-1-1722360768'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-1-1722360768 6af09dfa64] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-1-1722360768 b1d86cb8db] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:33:29 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:33:29 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-1-1000-1-1722360768 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1024-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-1024-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:34:48 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 18:34:48 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at b1d86cb8db fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-1-1722360888
+ git checkout -b scalability-yes-1024-1000-1-1722360888
Switched to a new branch 'scalability-yes-1024-1000-1-1722360888'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-1-1722360888 17e52f659c] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-1-1722360888 80063bbc89] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:35:30 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:35:30 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1024-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-1024-1000-1-1722360888 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1024-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-8-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-8-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:36:49 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 18:36:49 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 80063bbc89 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-1-1722361009
+ git checkout -b scalability-yes-8-1000-1-1722361009
Switched to a new branch 'scalability-yes-8-1000-1-1722361009'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-1-1722361009 11dd7a875f] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-1-1722361009 194425b5f8] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:37:31 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:37:31 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-8-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-8-1000-1-1722361009 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-8-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-512-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-512-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:38:50 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 18:38:50 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 194425b5f8 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-1-1722361130
+ git checkout -b scalability-yes-512-1000-1-1722361130
Switched to a new branch 'scalability-yes-512-1000-1-1722361130'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-1-1722361130 6a6ff11434] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-1-1722361130 f1f2354d09] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:39:31 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:39:31 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-512-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-512-1000-1-1722361130 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-512-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-128-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-128-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:40:50 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 18:40:50 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at f1f2354d09 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-1-1722361250
+ git checkout -b scalability-yes-128-1000-1-1722361250
Switched to a new branch 'scalability-yes-128-1000-1-1722361250'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-1-1722361250 112f45dba6] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-1-1722361250 08e66e3962] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:41:32 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:41:32 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-128-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-128-1000-1-1722361250 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-128-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-32-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-32-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:42:51 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 18:42:51 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 08e66e3962 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-1-1722361371
+ git checkout -b scalability-no-32-1000-1-1722361371
Switched to a new branch 'scalability-no-32-1000-1-1722361371'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-1-1722361371 55e202b6c3] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:43:33 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:43:33 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-32-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-32-1000-1-1722361371 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-32-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-0-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-0-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:44:51 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 18:44:51 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 55e202b6c3 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-1-1722361492
+ git checkout -b scalability-no-0-1000-1-1722361492
Switched to a new branch 'scalability-no-0-1000-1-1722361492'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:45:33 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:45:33 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-0-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-0-1000-1-1722361492 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-0-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-1-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:46:52 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 18:46:52 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-1-1722361612
+ git checkout -b scalability-no-1-1000-1-1722361612
Switched to a new branch 'scalability-no-1-1000-1-1722361612'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-1-1722361612 d62eebef0e] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:47:34 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:47:34 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-1-1000-1-1722361612 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1024-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-1024-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:48:53 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 18:48:53 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at d62eebef0e fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-1-1722361733
+ git checkout -b scalability-no-1024-1000-1-1722361733
Switched to a new branch 'scalability-no-1024-1000-1-1722361733'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-1-1722361733 9072dcd808] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:49:34 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:49:34 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1024-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-1024-1000-1-1722361733 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1024-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-8-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-8-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:50:53 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 18:50:53 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 9072dcd808 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-1-1722361853
+ git checkout -b scalability-no-8-1000-1-1722361853
Switched to a new branch 'scalability-no-8-1000-1-1722361853'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-1-1722361853 158eb01123] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:51:34 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:51:34 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-8-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-8-1000-1-1722361853 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-8-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-512-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-512-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:52:53 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 18:52:53 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 158eb01123 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-1-1722361973
+ git checkout -b scalability-no-512-1000-1-1722361973
Switched to a new branch 'scalability-no-512-1000-1-1722361973'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-1-1722361973 2aeedee6ac] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:53:29 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:53:29 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-512-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-512-1000-1-1722361973 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-512-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-128-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-128-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:54:48 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 18:54:48 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 2aeedee6ac fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-1-1722362088
+ git checkout -b scalability-no-128-1000-1-1722362088
Switched to a new branch 'scalability-no-128-1000-1-1722362088'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-1-1722362088 899937332c] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:55:23 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:55:23 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-128-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-128-1000-1-1722362088 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-128-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-32-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-32-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:56:42 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 18:56:42 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 899937332c fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-1-1722362202
+ git checkout -b scalability-yes-32-1000-1-1722362202
Switched to a new branch 'scalability-yes-32-1000-1-1722362202'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-1-1722362202 88e03a8774] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-1-1722362202 70f5586fc1] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:57:19 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:57:19 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-32-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-32-1000-1-1722362202 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-32-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-0-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-0-1000-1
+ env
++ date
+ echo Tue 30 Jul 18:58:34 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 18:58:34 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 70f5586fc1 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-1-1722362315
+ git checkout -b scalability-yes-0-1000-1-1722362315
Switched to a new branch 'scalability-yes-0-1000-1-1722362315'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-1-1722362315 5c647e8a0f] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 18:59:10 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 18:59:10 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-0-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-0-1000-1-1722362315 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-0-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-1-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:00:26 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 19:00:26 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 5c647e8a0f NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-1-1722362426
+ git checkout -b scalability-yes-1-1000-1-1722362426
Switched to a new branch 'scalability-yes-1-1000-1-1722362426'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-1-1722362426 91c3485ded] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-1-1722362426 6b2337e66f] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:01:02 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:01:02 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-1-1000-1-1722362426 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1024-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-1024-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:02:18 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 19:02:18 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 6b2337e66f fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-1-1722362538
+ git checkout -b scalability-yes-1024-1000-1-1722362538
Switched to a new branch 'scalability-yes-1024-1000-1-1722362538'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-1-1722362538 3fba8c83cb] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-1-1722362538 ad37fa1858] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:02:53 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:02:53 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1024-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-1024-1000-1-1722362538 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1024-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-8-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-8-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:04:09 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 19:04:09 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at ad37fa1858 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-1-1722362649
+ git checkout -b scalability-yes-8-1000-1-1722362649
Switched to a new branch 'scalability-yes-8-1000-1-1722362649'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-1-1722362649 a872c256a5] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-1-1722362649 772b06513c] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:04:45 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:04:45 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-8-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-8-1000-1-1722362649 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-8-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-512-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-512-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:06:01 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 19:06:01 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 772b06513c fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-1-1722362761
+ git checkout -b scalability-yes-512-1000-1-1722362761
Switched to a new branch 'scalability-yes-512-1000-1-1722362761'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-1-1722362761 6c4604d0b8] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-1-1722362761 cd85cb8f16] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:06:37 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:06:37 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-512-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-512-1000-1-1722362761 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-512-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-128-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-128-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:07:52 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 19:07:52 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at cd85cb8f16 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-1-1722362873
+ git checkout -b scalability-yes-128-1000-1-1722362873
Switched to a new branch 'scalability-yes-128-1000-1-1722362873'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-1-1722362873 cadb477a57] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-1-1722362873 41118562df] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:08:28 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:08:28 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-128-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-128-1000-1-1722362873 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-128-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-32-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-32-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:09:44 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 19:09:44 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 41118562df fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-1-1722362984
+ git checkout -b scalability-no-32-1000-1-1722362984
Switched to a new branch 'scalability-no-32-1000-1-1722362984'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-1-1722362984 e1fb57786d] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:10:19 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:10:19 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-32-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-32-1000-1-1722362984 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-32-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-0-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-0-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:11:35 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 19:11:35 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at e1fb57786d fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-1-1722363095
+ git checkout -b scalability-no-0-1000-1-1722363095
Switched to a new branch 'scalability-no-0-1000-1-1722363095'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:12:11 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:12:11 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-0-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-0-1000-1-1722363095 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-0-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-1-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:13:27 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 19:13:27 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-1-1722363207
+ git checkout -b scalability-no-1-1000-1-1722363207
Switched to a new branch 'scalability-no-1-1000-1-1722363207'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-1-1722363207 83f3106a60] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:14:03 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:14:03 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-1-1000-1-1722363207 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1024-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-1024-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:15:18 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 19:15:18 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 83f3106a60 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-1-1722363318
+ git checkout -b scalability-no-1024-1000-1-1722363318
Switched to a new branch 'scalability-no-1024-1000-1-1722363318'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-1-1722363318 eeb69800b8] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:15:54 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:15:54 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1024-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-1024-1000-1-1722363318 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1024-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-8-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-8-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:17:10 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 19:17:10 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at eeb69800b8 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-1-1722363430
+ git checkout -b scalability-no-8-1000-1-1722363430
Switched to a new branch 'scalability-no-8-1000-1-1722363430'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-1-1722363430 8cc2f00274] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:17:46 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:17:46 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-8-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-8-1000-1-1722363430 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-8-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-512-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-512-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:19:01 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 19:19:01 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 8cc2f00274 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-1-1722363541
+ git checkout -b scalability-no-512-1000-1-1722363541
Switched to a new branch 'scalability-no-512-1000-1-1722363541'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-1-1722363541 6329b1be56] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:19:37 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:19:37 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-512-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-512-1000-1-1722363541 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-512-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-128-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-128-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:20:52 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 19:20:52 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 6329b1be56 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-1-1722363652
+ git checkout -b scalability-no-128-1000-1-1722363652
Switched to a new branch 'scalability-no-128-1000-1-1722363652'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-1-1722363652 31c21dae13] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:21:28 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:21:28 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-128-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-128-1000-1-1722363652 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-128-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-32-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-32-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:22:43 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 19:22:43 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 31c21dae13 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-1-1722363764
+ git checkout -b scalability-yes-32-1000-1-1722363764
Switched to a new branch 'scalability-yes-32-1000-1-1722363764'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-1-1722363764 e955815c21] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-1-1722363764 eb1a732abd] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:23:19 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:23:19 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-32-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-32-1000-1-1722363764 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-32-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-0-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-0-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:24:35 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 19:24:35 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at eb1a732abd fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-1-1722363875
+ git checkout -b scalability-yes-0-1000-1-1722363875
Switched to a new branch 'scalability-yes-0-1000-1-1722363875'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-1-1722363875 63d8ee257e] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:25:11 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:25:11 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-0-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-0-1000-1-1722363875 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-0-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-1-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:26:27 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 19:26:27 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 63d8ee257e NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-1-1722363987
+ git checkout -b scalability-yes-1-1000-1-1722363987
Switched to a new branch 'scalability-yes-1-1000-1-1722363987'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-1-1722363987 ab5d641dd3] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-1-1722363987 26b00d479d] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:27:03 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:27:03 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-1-1000-1-1722363987 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1024-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-1024-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:28:18 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 19:28:18 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 26b00d479d fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-1-1722364099
+ git checkout -b scalability-yes-1024-1000-1-1722364099
Switched to a new branch 'scalability-yes-1024-1000-1-1722364099'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-1-1722364099 2746ff8b85] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-1-1722364099 0ccd44bb5d] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:28:55 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:28:55 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1024-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-1024-1000-1-1722364099 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-1024-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-8-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-8-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:30:11 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 19:30:11 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 0ccd44bb5d fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-1-1722364211
+ git checkout -b scalability-yes-8-1000-1-1722364211
Switched to a new branch 'scalability-yes-8-1000-1-1722364211'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-1-1722364211 0514fd6d36] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-1-1722364211 48a80dd14a] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:30:48 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:30:48 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-8-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-8-1000-1-1722364211 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-8-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-512-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-512-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:32:04 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 19:32:04 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 48a80dd14a fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-1-1722364324
+ git checkout -b scalability-yes-512-1000-1-1722364324
Switched to a new branch 'scalability-yes-512-1000-1-1722364324'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-1-1722364324 ff20e0f769] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-1-1722364324 bfd2fd750e] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:32:39 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:32:39 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-512-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-512-1000-1-1722364324 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-512-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-128-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-yes-128-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:33:55 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 19:33:55 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at bfd2fd750e fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-1-1722364436
+ git checkout -b scalability-yes-128-1000-1-1722364436
Switched to a new branch 'scalability-yes-128-1000-1-1722364436'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-1-1722364436 29fdf4d4c5] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-1-1722364436 ec43d186a7] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:34:31 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:34:31 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-128-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-yes-128-1000-1-1722364436 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-yes-128-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-32-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-32-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:35:47 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 19:35:47 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at ec43d186a7 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-1-1722364547
+ git checkout -b scalability-no-32-1000-1-1722364547
Switched to a new branch 'scalability-no-32-1000-1-1722364547'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-1-1722364547 b49be05aa3] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:36:23 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:36:23 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-32-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-32-1000-1-1722364547 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-32-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-0-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-0-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:37:39 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 19:37:39 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at b49be05aa3 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-1-1722364659
+ git checkout -b scalability-no-0-1000-1-1722364659
Switched to a new branch 'scalability-no-0-1000-1-1722364659'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:38:15 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:38:15 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-0-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-0-1000-1-1722364659 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-0-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-1-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:39:30 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 19:39:30 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-1-1722364771
+ git checkout -b scalability-no-1-1000-1-1722364771
Switched to a new branch 'scalability-no-1-1000-1-1722364771'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-1-1722364771 19eaf4883a] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:40:06 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:40:06 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-1-1000-1-1722364771 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1024-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-1024-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:41:22 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 19:41:22 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 19eaf4883a fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-1-1722364883
+ git checkout -b scalability-no-1024-1000-1-1722364883
Switched to a new branch 'scalability-no-1024-1000-1-1722364883'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-1-1722364883 46499983ff] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:41:58 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:41:58 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1024-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-1024-1000-1-1722364883 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-1024-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-8-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-8-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:43:14 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 19:43:14 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 46499983ff fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-1-1722364994
+ git checkout -b scalability-no-8-1000-1-1722364994
Switched to a new branch 'scalability-no-8-1000-1-1722364994'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-1-1722364994 1f5739e6f0] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:43:50 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:43:50 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-8-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-8-1000-1-1722364994 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-8-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-512-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-512-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:45:06 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 19:45:06 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 1f5739e6f0 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-1-1722365106
+ git checkout -b scalability-no-512-1000-1-1722365106
Switched to a new branch 'scalability-no-512-1000-1-1722365106'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-1-1722365106 56d478588c] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:45:41 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:45:41 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-512-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-512-1000-1-1722365106 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-512-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-128-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/pgbench-no-128-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:46:57 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 19:46:57 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 56d478588c fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-1-1722365217
+ git checkout -b scalability-no-128-1000-1-1722365217
Switched to a new branch 'scalability-no-128-1000-1-1722365217'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ patch -p1
+ sed s/MY_PLACEHOLDER/128/
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-1-1722365217 d1ae924482] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:47:33 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:47:33 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-128-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-pgbench.sh rpi5-32 scalability-no-128-1000-1-1722365217 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/pgbench-no-128-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-32-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-32-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:48:49 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 19:48:49 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at d1ae924482 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-1-1722365329
+ git checkout -b scalability-yes-32-1000-1-1722365329
Switched to a new branch 'scalability-yes-32-1000-1-1722365329'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-1-1722365329 27c72e9905] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-1-1722365329 be64d26c14] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:49:25 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:49:25 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-32-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-32-1000-1-1722365329 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-32-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-0-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-0-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:50:48 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 19:50:48 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at be64d26c14 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-1-1722365449
+ git checkout -b scalability-yes-0-1000-1-1722365449
Switched to a new branch 'scalability-yes-0-1000-1-1722365449'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-1-1722365449 fee74bfae7] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:51:24 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:51:24 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-0-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-0-1000-1-1722365449 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-0-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-1-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:52:47 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 19:52:47 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at fee74bfae7 NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-1-1722365567
+ git checkout -b scalability-yes-1-1000-1-1722365567
Switched to a new branch 'scalability-yes-1-1000-1-1722365567'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-1-1722365567 99e09df185] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-1-1722365567 8f0f777c3d] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:53:23 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:53:23 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-1-1000-1-1722365567 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1024-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-1024-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:54:46 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 19:54:46 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 8f0f777c3d fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-1-1722365687
+ git checkout -b scalability-yes-1024-1000-1-1722365687
Switched to a new branch 'scalability-yes-1024-1000-1-1722365687'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-1-1722365687 62554697a5] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-1-1722365687 f7ebf759ba] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:55:23 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:55:23 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1024-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-1024-1000-1-1722365687 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-1024-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-8-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-8-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:56:47 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 19:56:47 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at f7ebf759ba fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-1-1722365807
+ git checkout -b scalability-yes-8-1000-1-1722365807
Switched to a new branch 'scalability-yes-8-1000-1-1722365807'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-1-1722365807 f53f5f7186] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-1-1722365807 b038cb0181] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:57:22 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:57:22 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-8-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-8-1000-1-1722365807 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-8-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-512-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-512-1000-1
+ env
++ date
+ echo Tue 30 Jul 19:58:46 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 19:58:46 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at b038cb0181 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-1-1722365926
+ git checkout -b scalability-yes-512-1000-1-1722365926
Switched to a new branch 'scalability-yes-512-1000-1-1722365926'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-1-1722365926 f683139866] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-1-1722365926 b6885c9421] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 19:59:22 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 19:59:22 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-512-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-512-1000-1-1722365926 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-512-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-128-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-yes-128-1000-1
+ env
++ date
+ echo Tue 30 Jul 20:00:45 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 20:00:45 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at b6885c9421 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-1-1722366046
+ git checkout -b scalability-yes-128-1000-1-1722366046
Switched to a new branch 'scalability-yes-128-1000-1-1722366046'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-1-1722366046 c7548a138d] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-1-1722366046 4bdd9aa632] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:01:21 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 20:01:21 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-128-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-yes-128-1000-1-1722366046 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-yes-128-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-32-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-32-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-32-1000-1
+ env
++ date
+ echo Tue 30 Jul 20:02:45 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 20:02:45 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 4bdd9aa632 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-1-1722366165
+ git checkout -b scalability-no-32-1000-1-1722366165
Switched to a new branch 'scalability-no-32-1000-1-1722366165'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-1-1722366165 f9f5f97871] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:03:21 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 20:03:21 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-32-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-32-1000-1-1722366165 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-32-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-0-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-0-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-0-1000-1
+ env
++ date
+ echo Tue 30 Jul 20:04:44 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 20:04:44 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at f9f5f97871 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-1-1722366285
+ git checkout -b scalability-no-0-1000-1-1722366285
Switched to a new branch 'scalability-no-0-1000-1-1722366285'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:05:20 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 20:05:20 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-0-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-0-1000-1-1722366285 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-0-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-1-1000-1
+ env
++ date
+ echo Tue 30 Jul 20:06:44 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 20:06:44 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-1-1722366404
+ git checkout -b scalability-no-1-1000-1-1722366404
Switched to a new branch 'scalability-no-1-1000-1-1722366404'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-1-1722366404 b47c0dd298] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:07:20 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 20:07:20 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-1-1000-1-1722366404 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1024-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1024-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-1024-1000-1
+ env
++ date
+ echo Tue 30 Jul 20:08:43 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 20:08:43 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at b47c0dd298 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-1-1722366524
+ git checkout -b scalability-no-1024-1000-1-1722366524
Switched to a new branch 'scalability-no-1024-1000-1-1722366524'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-1-1722366524 b3d4af1b5d] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:09:19 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 20:09:19 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1024-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-1024-1000-1-1722366524 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-1024-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-8-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-8-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-8-1000-1
+ env
++ date
+ echo Tue 30 Jul 20:10:43 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 20:10:43 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at b3d4af1b5d fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-1-1722366643
+ git checkout -b scalability-no-8-1000-1-1722366643
Switched to a new branch 'scalability-no-8-1000-1-1722366643'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-1-1722366643 6514a9d815] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:11:20 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 20:11:20 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-8-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-8-1000-1-1722366643 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-8-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-512-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-512-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-512-1000-1
+ env
++ date
+ echo Tue 30 Jul 20:12:43 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 20:12:43 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 6514a9d815 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-1-1722366763
+ git checkout -b scalability-no-512-1000-1-1722366763
Switched to a new branch 'scalability-no-512-1000-1-1722366763'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-1-1722366763 754c7d528b] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:13:18 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 20:13:18 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-512-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-512-1000-1-1722366763 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-512-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-128-1000-1
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-128-1000-1
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/star-no-128-1000-1
+ env
++ date
+ echo Tue 30 Jul 20:14:42 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 20:14:42 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 754c7d528b fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-1-1722366882
+ git checkout -b scalability-no-128-1000-1-1722366882
Switched to a new branch 'scalability-no-128-1000-1-1722366882'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-1-1722366882 df959a9bd0] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-1 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:15:18 BST 2024 'RUN   files: 1000  partitions: 1'
Tue 30 Jul 20:15:18 BST 2024 RUN   files: 1000  partitions: 1
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-128-1000-1/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-star.sh rpi5-32 scalability-no-128-1000-1-1722366882 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/star-no-128-1000-1 1 10 '1 4 8' 1
+ pg_ctl -D /mnt/data/data-test stop
+ for p in $PARTITIONS
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-32-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-32-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:16:42 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 20:16:42 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at df959a9bd0 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-0-1722367002
+ git checkout -b scalability-yes-32-1000-0-1722367002
Switched to a new branch 'scalability-yes-32-1000-0-1722367002'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-0-1722367002 56ddb70cc8] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-0-1722367002 4691992bf4] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:17:56 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:17:56 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-32-1000-0-1722367002 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0 1 10 '1 4 8' 0
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-32-1000-0-1722367002
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=32
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=0
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=0
+ [[ 0 -ge 100000 ]]
+ DBNAME=index-1-0
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-0'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-0
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 0
+ psql index-1-0
+ psql index-1-0 -c 'vacuum analyze'
+ psql index-1-0 -c checkpoint
+ psql index-1-0 -c '\d+'
+ psql index-1-0 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/index.sql index-1-0
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.126
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7926.343924
+ echo index rpi5-32 scalability-yes-32-1000-0-1722367002 1000 yes 32 1 0 simple 1 1 7926.343924 0.126
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.181
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=22114.858784
+ echo index rpi5-32 scalability-yes-32-1000-0-1722367002 1000 yes 32 1 0 simple 4 1 22114.858784 0.181
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.398
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20090.266869
+ echo index rpi5-32 scalability-yes-32-1000-0-1722367002 1000 yes 32 1 0 simple 8 1 20090.266869 0.398
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.049
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20380.642710
+ echo index rpi5-32 scalability-yes-32-1000-0-1722367002 1000 yes 32 1 0 prepared 1 1 20380.642710 0.049
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.072
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=55415.844890
+ echo index rpi5-32 scalability-yes-32-1000-0-1722367002 1000 yes 32 1 0 prepared 4 1 55415.844890 0.072
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.158
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-32-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=50633.874161
+ echo index rpi5-32 scalability-yes-32-1000-0-1722367002 1000 yes 32 1 0 prepared 8 1 50633.874161 0.158
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-0-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-0-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:19:12 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 20:19:12 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 4691992bf4 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-0-1722367152
+ git checkout -b scalability-yes-0-1000-0-1722367152
Switched to a new branch 'scalability-yes-0-1000-0-1722367152'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-0-1722367152 437b49adda] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:20:26 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:20:26 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-0-1000-0-1722367152 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0 1 10 '1 4 8' 0
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-0-1000-0-1722367152
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=0
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=0
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=0
+ [[ 0 -ge 100000 ]]
+ DBNAME=index-1-0
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-0'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-0
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 0
+ psql index-1-0
+ psql index-1-0 -c 'vacuum analyze'
+ psql index-1-0 -c checkpoint
+ psql index-1-0 -c '\d+'
+ psql index-1-0 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/index.sql index-1-0
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.129
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7753.953143
+ echo index rpi5-32 scalability-yes-0-1000-0-1722367152 1000 yes 0 1 0 simple 1 1 7753.953143 0.129
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.191
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20987.977402
+ echo index rpi5-32 scalability-yes-0-1000-0-1722367152 1000 yes 0 1 0 simple 4 1 20987.977402 0.191
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.390
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20519.678150
+ echo index rpi5-32 scalability-yes-0-1000-0-1722367152 1000 yes 0 1 0 simple 8 1 20519.678150 0.390
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.050
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20149.669197
+ echo index rpi5-32 scalability-yes-0-1000-0-1722367152 1000 yes 0 1 0 prepared 1 1 20149.669197 0.050
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.075
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=53196.688826
+ echo index rpi5-32 scalability-yes-0-1000-0-1722367152 1000 yes 0 1 0 prepared 4 1 53196.688826 0.075
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.157
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-0-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=50815.668080
+ echo index rpi5-32 scalability-yes-0-1000-0-1722367152 1000 yes 0 1 0 prepared 8 1 50815.668080 0.157
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-1-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-1-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:21:42 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 20:21:42 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 437b49adda NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-0-1722367302
+ git checkout -b scalability-yes-1-1000-0-1722367302
Switched to a new branch 'scalability-yes-1-1000-0-1722367302'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-0-1722367302 6851902556] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-0-1722367302 a4081a6951] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:22:57 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:22:57 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-1-1000-0-1722367302 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0 1 10 '1 4 8' 0
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-1-1000-0-1722367302
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=1
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=0
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=0
+ [[ 0 -ge 100000 ]]
+ DBNAME=index-1-0
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-0'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-0
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 0
+ psql index-1-0
+ psql index-1-0 -c 'vacuum analyze'
+ psql index-1-0 -c checkpoint
+ psql index-1-0 -c '\d+'
+ psql index-1-0 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/index.sql index-1-0
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.125
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7990.027444
+ echo index rpi5-32 scalability-yes-1-1000-0-1722367302 1000 yes 1 1 0 simple 1 1 7990.027444 0.125
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.178
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=22505.423780
+ echo index rpi5-32 scalability-yes-1-1000-0-1722367302 1000 yes 1 1 0 simple 4 1 22505.423780 0.178
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.372
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=21497.178273
+ echo index rpi5-32 scalability-yes-1-1000-0-1722367302 1000 yes 1 1 0 simple 8 1 21497.178273 0.372
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.053
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18981.059544
+ echo index rpi5-32 scalability-yes-1-1000-0-1722367302 1000 yes 1 1 0 prepared 1 1 18981.059544 0.053
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.073
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=54462.985946
+ echo index rpi5-32 scalability-yes-1-1000-0-1722367302 1000 yes 1 1 0 prepared 4 1 54462.985946 0.073
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.152
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=52626.249203
+ echo index rpi5-32 scalability-yes-1-1000-0-1722367302 1000 yes 1 1 0 prepared 8 1 52626.249203 0.152
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-1024-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-1024-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:24:13 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 20:24:13 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at a4081a6951 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-0-1722367453
+ git checkout -b scalability-yes-1024-1000-0-1722367453
Switched to a new branch 'scalability-yes-1024-1000-0-1722367453'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-0-1722367453 cdf2078b75] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-0-1722367453 2081ecf386] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:25:28 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:25:28 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-1024-1000-0-1722367453 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0 1 10 '1 4 8' 0
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-1024-1000-0-1722367453
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=1024
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=0
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=0
+ [[ 0 -ge 100000 ]]
+ DBNAME=index-1-0
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-0'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-0
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 0
+ psql index-1-0
+ psql index-1-0 -c 'vacuum analyze'
+ psql index-1-0 -c checkpoint
+ psql index-1-0 -c '\d+'
+ psql index-1-0 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/index.sql index-1-0
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.133
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7541.832359
+ echo index rpi5-32 scalability-yes-1024-1000-0-1722367453 1000 yes 1024 1 0 simple 1 1 7541.832359 0.133
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.177
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=22558.157986
+ echo index rpi5-32 scalability-yes-1024-1000-0-1722367453 1000 yes 1024 1 0 simple 4 1 22558.157986 0.177
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.384
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20854.626615
+ echo index rpi5-32 scalability-yes-1024-1000-0-1722367453 1000 yes 1024 1 0 simple 8 1 20854.626615 0.384
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.050
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19963.817812
+ echo index rpi5-32 scalability-yes-1024-1000-0-1722367453 1000 yes 1024 1 0 prepared 1 1 19963.817812 0.050
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.073
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=55062.465107
+ echo index rpi5-32 scalability-yes-1024-1000-0-1722367453 1000 yes 1024 1 0 prepared 4 1 55062.465107 0.073
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.161
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-1024-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=49685.918531
+ echo index rpi5-32 scalability-yes-1024-1000-0-1722367453 1000 yes 1024 1 0 prepared 8 1 49685.918531 0.161
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-8-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-8-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:26:44 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 20:26:44 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 2081ecf386 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-0-1722367604
+ git checkout -b scalability-yes-8-1000-0-1722367604
Switched to a new branch 'scalability-yes-8-1000-0-1722367604'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-0-1722367604 fae2f296e9] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-0-1722367604 f2fe6cae2a] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:27:58 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:27:58 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-8-1000-0-1722367604 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0 1 10 '1 4 8' 0
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-8-1000-0-1722367604
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=8
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=0
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=0
+ [[ 0 -ge 100000 ]]
+ DBNAME=index-1-0
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-0'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-0
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 0
+ psql index-1-0
+ psql index-1-0 -c 'vacuum analyze'
+ psql index-1-0 -c checkpoint
+ psql index-1-0 -c '\d+'
+ psql index-1-0 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/index.sql index-1-0
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.127
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7886.150671
+ echo index rpi5-32 scalability-yes-8-1000-0-1722367604 1000 yes 8 1 0 simple 1 1 7886.150671 0.127
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.181
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=22096.748472
+ echo index rpi5-32 scalability-yes-8-1000-0-1722367604 1000 yes 8 1 0 simple 4 1 22096.748472 0.181
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.439
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18222.439119
+ echo index rpi5-32 scalability-yes-8-1000-0-1722367604 1000 yes 8 1 0 simple 8 1 18222.439119 0.439
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.053
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18783.222468
+ echo index rpi5-32 scalability-yes-8-1000-0-1722367604 1000 yes 8 1 0 prepared 1 1 18783.222468 0.053
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.075
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=53646.035569
+ echo index rpi5-32 scalability-yes-8-1000-0-1722367604 1000 yes 8 1 0 prepared 4 1 53646.035569 0.075
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.155
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-8-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=51616.726637
+ echo index rpi5-32 scalability-yes-8-1000-0-1722367604 1000 yes 8 1 0 prepared 8 1 51616.726637 0.155
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-512-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-512-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:29:14 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 20:29:14 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at f2fe6cae2a fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-0-1722367754
+ git checkout -b scalability-yes-512-1000-0-1722367754
Switched to a new branch 'scalability-yes-512-1000-0-1722367754'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-0-1722367754 6041545147] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-0-1722367754 69dec4eefd] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:30:31 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:30:31 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-512-1000-0-1722367754 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0 1 10 '1 4 8' 0
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-512-1000-0-1722367754
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=512
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=0
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=0
+ [[ 0 -ge 100000 ]]
+ DBNAME=index-1-0
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-0'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-0
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 0
+ psql index-1-0
+ psql index-1-0 -c 'vacuum analyze'
+ psql index-1-0 -c checkpoint
+ psql index-1-0 -c '\d+'
+ psql index-1-0 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/index.sql index-1-0
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.124
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=8071.179612
+ echo index rpi5-32 scalability-yes-512-1000-0-1722367754 1000 yes 512 1 0 simple 1 1 8071.179612 0.124
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.175
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=22913.707663
+ echo index rpi5-32 scalability-yes-512-1000-0-1722367754 1000 yes 512 1 0 simple 4 1 22913.707663 0.175
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.378
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=21150.948556
+ echo index rpi5-32 scalability-yes-512-1000-0-1722367754 1000 yes 512 1 0 simple 8 1 21150.948556 0.378
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.052
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19378.003089
+ echo index rpi5-32 scalability-yes-512-1000-0-1722367754 1000 yes 512 1 0 prepared 1 1 19378.003089 0.052
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.074
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=54328.496392
+ echo index rpi5-32 scalability-yes-512-1000-0-1722367754 1000 yes 512 1 0 prepared 4 1 54328.496392 0.074
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.159
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-512-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=50423.091968
+ echo index rpi5-32 scalability-yes-512-1000-0-1722367754 1000 yes 512 1 0 prepared 8 1 50423.091968 0.159
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-128-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-yes-128-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:31:47 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 20:31:47 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 69dec4eefd fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-0-1722367907
+ git checkout -b scalability-yes-128-1000-0-1722367907
Switched to a new branch 'scalability-yes-128-1000-0-1722367907'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-0-1722367907 f61878b4f9] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-0-1722367907 3f75e8260c] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:33:02 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:33:02 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-yes-128-1000-0-1722367907 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0 1 10 '1 4 8' 0
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-yes-128-1000-0-1722367907
+ NFILES=1000
+ NPARTS=yes
+ NGROUPS=128
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=0
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=0
+ [[ 0 -ge 100000 ]]
+ DBNAME=index-1-0
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-0'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-0
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 0
+ psql index-1-0
+ psql index-1-0 -c 'vacuum analyze'
+ psql index-1-0 -c checkpoint
+ psql index-1-0 -c '\d+'
+ psql index-1-0 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/index.sql index-1-0
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.135
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7399.376878
+ echo index rpi5-32 scalability-yes-128-1000-0-1722367907 1000 yes 128 1 0 simple 1 1 7399.376878 0.135
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.180
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=22257.202925
+ echo index rpi5-32 scalability-yes-128-1000-0-1722367907 1000 yes 128 1 0 simple 4 1 22257.202925 0.180
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.376
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=21272.429049
+ echo index rpi5-32 scalability-yes-128-1000-0-1722367907 1000 yes 128 1 0 simple 8 1 21272.429049 0.376
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.049
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20233.559789
+ echo index rpi5-32 scalability-yes-128-1000-0-1722367907 1000 yes 128 1 0 prepared 1 1 20233.559789 0.049
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.076
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=52378.932839
+ echo index rpi5-32 scalability-yes-128-1000-0-1722367907 1000 yes 128 1 0 prepared 4 1 52378.932839 0.076
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.156
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-yes-128-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=51350.763576
+ echo index rpi5-32 scalability-yes-128-1000-0-1722367907 1000 yes 128 1 0 prepared 8 1 51350.763576 0.156
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-32-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-32-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:34:18 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 20:34:18 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 3f75e8260c fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-0-1722368058
+ git checkout -b scalability-no-32-1000-0-1722368058
Switched to a new branch 'scalability-no-32-1000-0-1722368058'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-0-1722368058 6cfec71af7] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:35:32 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:35:32 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-32-1000-0-1722368058 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0 1 10 '1 4 8' 0
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-32-1000-0-1722368058
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=32
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=0
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=0
+ [[ 0 -ge 100000 ]]
+ DBNAME=index-1-0
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-0'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-0
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 0
+ psql index-1-0
+ psql index-1-0 -c 'vacuum analyze'
+ psql index-1-0 -c checkpoint
+ psql index-1-0 -c '\d+'
+ psql index-1-0 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/index.sql index-1-0
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.124
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=8037.332849
+ echo index rpi5-32 scalability-no-32-1000-0-1722368058 1000 no 32 1 0 simple 1 1 8037.332849 0.124
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.186
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=21547.191748
+ echo index rpi5-32 scalability-no-32-1000-0-1722368058 1000 no 32 1 0 simple 4 1 21547.191748 0.186
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.402
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19883.571899
+ echo index rpi5-32 scalability-no-32-1000-0-1722368058 1000 no 32 1 0 simple 8 1 19883.571899 0.402
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.049
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20418.763422
+ echo index rpi5-32 scalability-no-32-1000-0-1722368058 1000 no 32 1 0 prepared 1 1 20418.763422 0.049
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.074
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=54009.978252
+ echo index rpi5-32 scalability-no-32-1000-0-1722368058 1000 no 32 1 0 prepared 4 1 54009.978252 0.074
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.172
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-32-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=46619.351327
+ echo index rpi5-32 scalability-no-32-1000-0-1722368058 1000 no 32 1 0 prepared 8 1 46619.351327 0.172
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-0-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-0-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:36:48 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 20:36:48 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 6cfec71af7 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-0-1722368208
+ git checkout -b scalability-no-0-1000-0-1722368208
Switched to a new branch 'scalability-no-0-1000-0-1722368208'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:38:02 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:38:02 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-0-1000-0-1722368208 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0 1 10 '1 4 8' 0
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-0-1000-0-1722368208
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=0
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=0
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=0
+ [[ 0 -ge 100000 ]]
+ DBNAME=index-1-0
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-0'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-0
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 0
+ psql index-1-0
+ psql index-1-0 -c 'vacuum analyze'
+ psql index-1-0 -c checkpoint
+ psql index-1-0 -c '\d+'
+ psql index-1-0 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/index.sql index-1-0
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.132
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7604.027262
+ echo index rpi5-32 scalability-no-0-1000-0-1722368208 1000 no 0 1 0 simple 1 1 7604.027262 0.132
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.174
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=22925.310923
+ echo index rpi5-32 scalability-no-0-1000-0-1722368208 1000 no 0 1 0 simple 4 1 22925.310923 0.174
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.413
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19374.170554
+ echo index rpi5-32 scalability-no-0-1000-0-1722368208 1000 no 0 1 0 simple 8 1 19374.170554 0.413
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.050
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19996.419620
+ echo index rpi5-32 scalability-no-0-1000-0-1722368208 1000 no 0 1 0 prepared 1 1 19996.419620 0.050
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.072
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=55514.784908
+ echo index rpi5-32 scalability-no-0-1000-0-1722368208 1000 no 0 1 0 prepared 4 1 55514.784908 0.072
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.152
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-0-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=52783.402319
+ echo index rpi5-32 scalability-no-0-1000-0-1722368208 1000 no 0 1 0 prepared 8 1 52783.402319 0.152
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-1-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-1-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:39:18 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 20:39:18 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-0-1722368358
+ git checkout -b scalability-no-1-1000-0-1722368358
Switched to a new branch 'scalability-no-1-1000-0-1722368358'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-0-1722368358 8f7932bea7] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:40:32 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:40:32 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-1-1000-0-1722368358 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0 1 10 '1 4 8' 0
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-1-1000-0-1722368358
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=1
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=0
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=0
+ [[ 0 -ge 100000 ]]
+ DBNAME=index-1-0
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-0'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-0
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 0
+ psql index-1-0
+ psql index-1-0 -c 'vacuum analyze'
+ psql index-1-0 -c checkpoint
+ psql index-1-0 -c '\d+'
+ psql index-1-0 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/index.sql index-1-0
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.133
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7501.718121
+ echo index rpi5-32 scalability-no-1-1000-0-1722368358 1000 no 1 1 0 simple 1 1 7501.718121 0.133
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.188
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=21291.886802
+ echo index rpi5-32 scalability-no-1-1000-0-1722368358 1000 no 1 1 0 simple 4 1 21291.886802 0.188
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.394
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20287.189545
+ echo index rpi5-32 scalability-no-1-1000-0-1722368358 1000 no 1 1 0 simple 8 1 20287.189545 0.394
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.050
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20113.245594
+ echo index rpi5-32 scalability-no-1-1000-0-1722368358 1000 no 1 1 0 prepared 1 1 20113.245594 0.050
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.071
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=55973.689001
+ echo index rpi5-32 scalability-no-1-1000-0-1722368358 1000 no 1 1 0 prepared 4 1 55973.689001 0.071
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.154
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=51896.134281
+ echo index rpi5-32 scalability-no-1-1000-0-1722368358 1000 no 1 1 0 prepared 8 1 51896.134281 0.154
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-1024-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-1024-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:41:48 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 20:41:48 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 8f7932bea7 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-0-1722368508
+ git checkout -b scalability-no-1024-1000-0-1722368508
Switched to a new branch 'scalability-no-1024-1000-0-1722368508'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-0-1722368508 338e4202c1] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:43:02 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:43:02 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-1024-1000-0-1722368508 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0 1 10 '1 4 8' 0
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-1024-1000-0-1722368508
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=1024
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=0
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=0
+ [[ 0 -ge 100000 ]]
+ DBNAME=index-1-0
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-0'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-0
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 0
+ psql index-1-0
+ psql index-1-0 -c 'vacuum analyze'
+ psql index-1-0 -c checkpoint
+ psql index-1-0 -c '\d+'
+ psql index-1-0 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/index.sql index-1-0
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.125
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7987.922995
+ echo index rpi5-32 scalability-no-1024-1000-0-1722368508 1000 no 1024 1 0 simple 1 1 7987.922995 0.125
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.165
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=24298.870919
+ echo index rpi5-32 scalability-no-1024-1000-0-1722368508 1000 no 1024 1 0 simple 4 1 24298.870919 0.165
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.385
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20752.415083
+ echo index rpi5-32 scalability-no-1024-1000-0-1722368508 1000 no 1024 1 0 simple 8 1 20752.415083 0.385
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.051
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19421.281441
+ echo index rpi5-32 scalability-no-1024-1000-0-1722368508 1000 no 1024 1 0 prepared 1 1 19421.281441 0.051
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.077
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=51753.896960
+ echo index rpi5-32 scalability-no-1024-1000-0-1722368508 1000 no 1024 1 0 prepared 4 1 51753.896960 0.077
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.150
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-1024-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=53451.899654
+ echo index rpi5-32 scalability-no-1024-1000-0-1722368508 1000 no 1024 1 0 prepared 8 1 53451.899654 0.150
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-8-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-8-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:44:18 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 20:44:18 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 338e4202c1 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-0-1722368659
+ git checkout -b scalability-no-8-1000-0-1722368659
Switched to a new branch 'scalability-no-8-1000-0-1722368659'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-0-1722368659 b287e76a97] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:45:33 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:45:33 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-8-1000-0-1722368659 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0 1 10 '1 4 8' 0
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-8-1000-0-1722368659
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=8
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=0
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=0
+ [[ 0 -ge 100000 ]]
+ DBNAME=index-1-0
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-0'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-0
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 0
+ psql index-1-0
+ psql index-1-0 -c 'vacuum analyze'
+ psql index-1-0 -c checkpoint
+ psql index-1-0 -c '\d+'
+ psql index-1-0 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/index.sql index-1-0
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.128
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7791.628183
+ echo index rpi5-32 scalability-no-8-1000-0-1722368659 1000 no 8 1 0 simple 1 1 7791.628183 0.128
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.172
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=23223.120282
+ echo index rpi5-32 scalability-no-8-1000-0-1722368659 1000 no 8 1 0 simple 4 1 23223.120282 0.172
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.381
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20980.723076
+ echo index rpi5-32 scalability-no-8-1000-0-1722368659 1000 no 8 1 0 simple 8 1 20980.723076 0.381
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.052
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=19111.403888
+ echo index rpi5-32 scalability-no-8-1000-0-1722368659 1000 no 8 1 0 prepared 1 1 19111.403888 0.052
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.074
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=54300.621898
+ echo index rpi5-32 scalability-no-8-1000-0-1722368659 1000 no 8 1 0 prepared 4 1 54300.621898 0.074
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.164
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-8-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=48838.063731
+ echo index rpi5-32 scalability-no-8-1000-0-1722368659 1000 no 8 1 0 prepared 8 1 48838.063731 0.164
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-512-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-512-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:46:49 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 20:46:49 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at b287e76a97 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-0-1722368810
+ git checkout -b scalability-no-512-1000-0-1722368810
Switched to a new branch 'scalability-no-512-1000-0-1722368810'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-0-1722368810 73639ff461] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:48:03 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:48:03 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-512-1000-0-1722368810 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0 1 10 '1 4 8' 0
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-512-1000-0-1722368810
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=512
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=0
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=0
+ [[ 0 -ge 100000 ]]
+ DBNAME=index-1-0
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-0'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-0
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 0
+ psql index-1-0
+ psql index-1-0 -c 'vacuum analyze'
+ psql index-1-0 -c checkpoint
+ psql index-1-0 -c '\d+'
+ psql index-1-0 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/index.sql index-1-0
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.133
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7494.966881
+ echo index rpi5-32 scalability-no-512-1000-0-1722368810 1000 no 512 1 0 simple 1 1 7494.966881 0.133
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.175
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=22892.458581
+ echo index rpi5-32 scalability-no-512-1000-0-1722368810 1000 no 512 1 0 simple 4 1 22892.458581 0.175
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.440
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=18179.538653
+ echo index rpi5-32 scalability-no-512-1000-0-1722368810 1000 no 512 1 0 simple 8 1 18179.538653 0.440
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.050
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20047.272310
+ echo index rpi5-32 scalability-no-512-1000-0-1722368810 1000 no 512 1 0 prepared 1 1 20047.272310 0.050
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.075
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=53569.031551
+ echo index rpi5-32 scalability-no-512-1000-0-1722368810 1000 no 512 1 0 prepared 4 1 53569.031551 0.075
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.162
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-512-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=49496.696338
+ echo index rpi5-32 scalability-no-512-1000-0-1722368810 1000 no 512 1 0 prepared 8 1 49496.696338 0.162
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-128-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/index-no-128-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:49:19 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 20:49:19 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 73639ff461 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-0-1722368960
+ git checkout -b scalability-no-128-1000-0-1722368960
Switched to a new branch 'scalability-no-128-1000-0-1722368960'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-0-1722368960 5fe1949e43] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:50:33 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:50:33 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-index.sh rpi5-32 scalability-no-128-1000-0-1722368960 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0 1 10 '1 4 8' 0
+ set -e
+ MACHINE=rpi5-32
+ BRANCH=scalability-no-128-1000-0-1722368960
+ NFILES=1000
+ NPARTS=no
+ NGROUPS=128
+ OUTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0
+ RUNS=1
+ DURATION=10
+ CLIENTS='1 4 8'
+ INDEXES=0
+ ps ax
+ for s in 1
+ for i in $INDEXES
+ cnt=0
+ [[ 0 -ge 100000 ]]
+ DBNAME=index-1-0
++ psql -t -A -c 'select count(*) from pg_database where datname = '\''index-1-0'\''' postgres
+ cnt=0
+ '[' 0 == 0 ']'
+ createdb index-1-0
+ echo 'CREATE TABLE t (id serial primary key'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', c1 int'
+ for c in `seq 1 100`
+ echo ', c2 int'
+ for c in `seq 1 100`
+ echo ', c3 int'
+ for c in `seq 1 100`
+ echo ', c4 int'
+ for c in `seq 1 100`
+ echo ', c5 int'
+ for c in `seq 1 100`
+ echo ', c6 int'
+ for c in `seq 1 100`
+ echo ', c7 int'
+ for c in `seq 1 100`
+ echo ', c8 int'
+ for c in `seq 1 100`
+ echo ', c9 int'
+ for c in `seq 1 100`
+ echo ', c10 int'
+ for c in `seq 1 100`
+ echo ', c11 int'
+ for c in `seq 1 100`
+ echo ', c12 int'
+ for c in `seq 1 100`
+ echo ', c13 int'
+ for c in `seq 1 100`
+ echo ', c14 int'
+ for c in `seq 1 100`
+ echo ', c15 int'
+ for c in `seq 1 100`
+ echo ', c16 int'
+ for c in `seq 1 100`
+ echo ', c17 int'
+ for c in `seq 1 100`
+ echo ', c18 int'
+ for c in `seq 1 100`
+ echo ', c19 int'
+ for c in `seq 1 100`
+ echo ', c20 int'
+ for c in `seq 1 100`
+ echo ', c21 int'
+ for c in `seq 1 100`
+ echo ', c22 int'
+ for c in `seq 1 100`
+ echo ', c23 int'
+ for c in `seq 1 100`
+ echo ', c24 int'
+ for c in `seq 1 100`
+ echo ', c25 int'
+ for c in `seq 1 100`
+ echo ', c26 int'
+ for c in `seq 1 100`
+ echo ', c27 int'
+ for c in `seq 1 100`
+ echo ', c28 int'
+ for c in `seq 1 100`
+ echo ', c29 int'
+ for c in `seq 1 100`
+ echo ', c30 int'
+ for c in `seq 1 100`
+ echo ', c31 int'
+ for c in `seq 1 100`
+ echo ', c32 int'
+ for c in `seq 1 100`
+ echo ', c33 int'
+ for c in `seq 1 100`
+ echo ', c34 int'
+ for c in `seq 1 100`
+ echo ', c35 int'
+ for c in `seq 1 100`
+ echo ', c36 int'
+ for c in `seq 1 100`
+ echo ', c37 int'
+ for c in `seq 1 100`
+ echo ', c38 int'
+ for c in `seq 1 100`
+ echo ', c39 int'
+ for c in `seq 1 100`
+ echo ', c40 int'
+ for c in `seq 1 100`
+ echo ', c41 int'
+ for c in `seq 1 100`
+ echo ', c42 int'
+ for c in `seq 1 100`
+ echo ', c43 int'
+ for c in `seq 1 100`
+ echo ', c44 int'
+ for c in `seq 1 100`
+ echo ', c45 int'
+ for c in `seq 1 100`
+ echo ', c46 int'
+ for c in `seq 1 100`
+ echo ', c47 int'
+ for c in `seq 1 100`
+ echo ', c48 int'
+ for c in `seq 1 100`
+ echo ', c49 int'
+ for c in `seq 1 100`
+ echo ', c50 int'
+ for c in `seq 1 100`
+ echo ', c51 int'
+ for c in `seq 1 100`
+ echo ', c52 int'
+ for c in `seq 1 100`
+ echo ', c53 int'
+ for c in `seq 1 100`
+ echo ', c54 int'
+ for c in `seq 1 100`
+ echo ', c55 int'
+ for c in `seq 1 100`
+ echo ', c56 int'
+ for c in `seq 1 100`
+ echo ', c57 int'
+ for c in `seq 1 100`
+ echo ', c58 int'
+ for c in `seq 1 100`
+ echo ', c59 int'
+ for c in `seq 1 100`
+ echo ', c60 int'
+ for c in `seq 1 100`
+ echo ', c61 int'
+ for c in `seq 1 100`
+ echo ', c62 int'
+ for c in `seq 1 100`
+ echo ', c63 int'
+ for c in `seq 1 100`
+ echo ', c64 int'
+ for c in `seq 1 100`
+ echo ', c65 int'
+ for c in `seq 1 100`
+ echo ', c66 int'
+ for c in `seq 1 100`
+ echo ', c67 int'
+ for c in `seq 1 100`
+ echo ', c68 int'
+ for c in `seq 1 100`
+ echo ', c69 int'
+ for c in `seq 1 100`
+ echo ', c70 int'
+ for c in `seq 1 100`
+ echo ', c71 int'
+ for c in `seq 1 100`
+ echo ', c72 int'
+ for c in `seq 1 100`
+ echo ', c73 int'
+ for c in `seq 1 100`
+ echo ', c74 int'
+ for c in `seq 1 100`
+ echo ', c75 int'
+ for c in `seq 1 100`
+ echo ', c76 int'
+ for c in `seq 1 100`
+ echo ', c77 int'
+ for c in `seq 1 100`
+ echo ', c78 int'
+ for c in `seq 1 100`
+ echo ', c79 int'
+ for c in `seq 1 100`
+ echo ', c80 int'
+ for c in `seq 1 100`
+ echo ', c81 int'
+ for c in `seq 1 100`
+ echo ', c82 int'
+ for c in `seq 1 100`
+ echo ', c83 int'
+ for c in `seq 1 100`
+ echo ', c84 int'
+ for c in `seq 1 100`
+ echo ', c85 int'
+ for c in `seq 1 100`
+ echo ', c86 int'
+ for c in `seq 1 100`
+ echo ', c87 int'
+ for c in `seq 1 100`
+ echo ', c88 int'
+ for c in `seq 1 100`
+ echo ', c89 int'
+ for c in `seq 1 100`
+ echo ', c90 int'
+ for c in `seq 1 100`
+ echo ', c91 int'
+ for c in `seq 1 100`
+ echo ', c92 int'
+ for c in `seq 1 100`
+ echo ', c93 int'
+ for c in `seq 1 100`
+ echo ', c94 int'
+ for c in `seq 1 100`
+ echo ', c95 int'
+ for c in `seq 1 100`
+ echo ', c96 int'
+ for c in `seq 1 100`
+ echo ', c97 int'
+ for c in `seq 1 100`
+ echo ', c98 int'
+ for c in `seq 1 100`
+ echo ', c99 int'
+ for c in `seq 1 100`
+ echo ', c100 int'
+ echo ');'
+ echo 'insert into t select i'
++ seq 1 100
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ for c in `seq 1 100`
+ echo ', i'
+ echo ' from generate_series(1, 1 * 10000) s(i);'
+ echo 'vacuum analyze;'
+ echo 'set max_parallel_maintenance_workers = 8;'
++ seq 1 0
+ psql index-1-0
+ psql index-1-0 -c 'vacuum analyze'
+ psql index-1-0 -c checkpoint
+ psql index-1-0 -c '\d+'
+ psql index-1-0 -c '\di+'
+ echo '\set aid random(1, 100000 * 1)'
+ echo 'select * from t where id = :aid;'
+ pgbench -n -M prepared -T 10 -c 32 -j 32 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/index.sql index-1-0
++ seq 1 1
+ for r in $(seq 1 $RUNS)
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.130
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=7683.430309
+ echo index rpi5-32 scalability-no-128-1000-0-1722368960 1000 no 128 1 0 simple 1 1 7683.430309 0.130
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.185
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=21583.644990
+ echo index rpi5-32 scalability-no-128-1000-0-1722368960 1000 no 128 1 0 simple 4 1 21583.644990 0.185
+ for c in $CLIENTS
+ pgbench -n -M simple -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.376
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=21261.293721
+ echo index rpi5-32 scalability-no-128-1000-0-1722368960 1000 no 128 1 0 simple 8 1 21261.293721 0.376
+ for m in simple prepared
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 1 -j 1 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.049
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=20448.602782
+ echo index rpi5-32 scalability-no-128-1000-0-1722368960 1000 no 128 1 0 prepared 1 1 20448.602782 0.049
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 4 -j 4 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.075
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=53106.629764
+ echo index rpi5-32 scalability-no-128-1000-0-1722368960 1000 no 128 1 0 prepared 4 1 53106.629764 0.075
+ for c in $CLIENTS
+ pgbench -n -M prepared -T 10 -c 8 -j 8 -f /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/index.sql index-1-0
++ grep 'latency average' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_avg=0.152
++ grep 'latency stddev' /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ awk '{print $4}'
+ lat_std=
++ grep tps /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/index-no-128-1000-0/pgbench.log
++ tail -n 1
++ awk '{print $3}'
+ tps=52475.329264
+ echo index rpi5-32 scalability-no-128-1000-0-1722368960 1000 no 128 1 0 prepared 8 1 52475.329264 0.152
+ pg_ctl -D /mnt/data/data-test stop
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-32-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-32-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-32-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-32-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:51:49 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 20:51:49 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 5fe1949e43 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-0-1722369109
+ git checkout -b scalability-yes-32-1000-0-1722369109
Switched to a new branch 'scalability-yes-32-1000-0-1722369109'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-0-1722369109 58dacba187] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-0-1722369109 2fca3a9451] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:52:50 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:52:50 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-32-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-32-1000-0-1722369109 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-32-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-0-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-0-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-0-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-0-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:54:08 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 20:54:08 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 2fca3a9451 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-0-1722369248
+ git checkout -b scalability-yes-0-1000-0-1722369248
Switched to a new branch 'scalability-yes-0-1000-0-1722369248'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-0-1722369248 33b9de4849] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:55:09 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:55:09 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-0-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-0-1000-0-1722369248 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-0-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-1-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-1-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:56:28 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 20:56:28 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 33b9de4849 NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-0-1722369388
+ git checkout -b scalability-yes-1-1000-0-1722369388
Switched to a new branch 'scalability-yes-1-1000-0-1722369388'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-0-1722369388 88b4b276ba] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-0-1722369388 f83d4683b5] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:57:29 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:57:29 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-1-1000-0-1722369388 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1024-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-1024-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1024-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-1024-1000-0
+ env
++ date
+ echo Tue 30 Jul 20:58:48 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 20:58:48 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at f83d4683b5 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-0-1722369528
+ git checkout -b scalability-yes-1024-1000-0-1722369528
Switched to a new branch 'scalability-yes-1024-1000-0-1722369528'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-0-1722369528 f0360e4eae] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-0-1722369528 f67a597f0a] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 20:59:49 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 20:59:49 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1024-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-1024-1000-0-1722369528 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-1024-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-8-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-8-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-8-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-8-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:01:08 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 21:01:08 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at f67a597f0a fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-0-1722369668
+ git checkout -b scalability-yes-8-1000-0-1722369668
Switched to a new branch 'scalability-yes-8-1000-0-1722369668'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-0-1722369668 4219bba235] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-0-1722369668 f0edeae632] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:02:02 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:02:02 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-8-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-8-1000-0-1722369668 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-8-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-512-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-512-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-512-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-512-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:03:21 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 21:03:21 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at f0edeae632 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-0-1722369801
+ git checkout -b scalability-yes-512-1000-0-1722369801
Switched to a new branch 'scalability-yes-512-1000-0-1722369801'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-0-1722369801 8403dd3939] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-0-1722369801 32d79187f5] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:04:15 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:04:15 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-512-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-512-1000-0-1722369801 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-512-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-128-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-128-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-128-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-yes-128-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:05:34 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 21:05:34 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 32d79187f5 fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-0-1722369934
+ git checkout -b scalability-yes-128-1000-0-1722369934
Switched to a new branch 'scalability-yes-128-1000-0-1722369934'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-0-1722369934 543c809a1e] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-0-1722369934 c83d5df31e] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:06:28 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:06:28 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-128-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-yes-128-1000-0-1722369934 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-yes-128-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-32-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-32-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-32-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-32-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:07:46 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 21:07:46 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at c83d5df31e fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-0-1722370067
+ git checkout -b scalability-no-32-1000-0-1722370067
Switched to a new branch 'scalability-no-32-1000-0-1722370067'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-0-1722370067 86893fe3c5] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:08:41 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:08:41 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-32-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-32-1000-0-1722370067 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-32-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-0-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-0-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-0-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-0-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:10:00 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 21:10:00 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 86893fe3c5 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-0-1722370200
+ git checkout -b scalability-no-0-1000-0-1722370200
Switched to a new branch 'scalability-no-0-1000-0-1722370200'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:10:54 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:10:54 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-0-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-0-1000-0-1722370200 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-0-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-1-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-1-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:12:13 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 21:12:13 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-0-1722370333
+ git checkout -b scalability-no-1-1000-0-1722370333
Switched to a new branch 'scalability-no-1-1000-0-1722370333'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-0-1722370333 10c8f02c10] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:13:08 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:13:08 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-1-1000-0-1722370333 1000 no 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1024-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-1024-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1024-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-1024-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:14:26 BST 2024 'BUILD lock partitions: no  fastpath groups: 1024'
Tue 30 Jul 21:14:26 BST 2024 BUILD lock partitions: no  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 10c8f02c10 fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1024-1000-0-1722370467
+ git checkout -b scalability-no-1024-1000-0-1722370467
Switched to a new branch 'scalability-no-1024-1000-0-1722370467'
+ '[' no == yes ']'
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-no-1024-1000-0-1722370467 2c96d7896d] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1024-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:15:20 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:15:20 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/no-1024-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-1024-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1024-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-1024-1000-0-1722370467 1000 no 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-1024-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-8-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-8-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-8-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-8-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:16:39 BST 2024 'BUILD lock partitions: no  fastpath groups: 8'
Tue 30 Jul 21:16:39 BST 2024 BUILD lock partitions: no  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 2c96d7896d fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-8-1000-0-1722370599
+ git checkout -b scalability-no-8-1000-0-1722370599
Switched to a new branch 'scalability-no-8-1000-0-1722370599'
+ '[' no == yes ']'
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-no-8-1000-0-1722370599 440fe87736] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-8-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:17:15 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:17:15 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/no-8-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-8-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-8-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-8-1000-0-1722370599 1000 no 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-8-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-512-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-512-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-512-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-512-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:18:34 BST 2024 'BUILD lock partitions: no  fastpath groups: 512'
Tue 30 Jul 21:18:34 BST 2024 BUILD lock partitions: no  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 440fe87736 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-512-1000-0-1722370714
+ git checkout -b scalability-no-512-1000-0-1722370714
Switched to a new branch 'scalability-no-512-1000-0-1722370714'
+ '[' no == yes ']'
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-no-512-1000-0-1722370714 b274c8908a] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-512-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:19:09 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:19:09 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/no-512-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-512-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-512-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-512-1000-0-1722370714 1000 no 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-512-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-128-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-128-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-128-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/join-no-128-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:20:27 BST 2024 'BUILD lock partitions: no  fastpath groups: 128'
Tue 30 Jul 21:20:27 BST 2024 BUILD lock partitions: no  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at b274c8908a fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-128-1000-0-1722370828
+ git checkout -b scalability-no-128-1000-0-1722370828
Switched to a new branch 'scalability-no-128-1000-0-1722370828'
+ '[' no == yes ']'
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-no-128-1000-0-1722370828 80cffed2d3] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-128-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:21:03 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:21:03 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/no-128-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-128-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-128-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-join.sh rpi5-32 scalability-no-128-1000-0-1722370828 1000 no 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/join-no-128-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for t in index join count pgbench star
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-32-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-32-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-32-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-32-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:22:22 BST 2024 'BUILD lock partitions: yes  fastpath groups: 32'
Tue 30 Jul 21:22:22 BST 2024 BUILD lock partitions: yes  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 80cffed2d3 fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-32-1000-0-1722370942
+ git checkout -b scalability-yes-32-1000-0-1722370942
Switched to a new branch 'scalability-yes-32-1000-0-1722370942'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-32-1000-0-1722370942 dc6bafb841] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-yes-32-1000-0-1722370942 c46cc363cc] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-32-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:22:58 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:22:58 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-32-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-32-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-32-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-32-1000-0-1722370942 1000 yes 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-32-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-0-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-0-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-0-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-0-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:24:14 BST 2024 'BUILD lock partitions: yes  fastpath groups: 0'
Tue 30 Jul 21:24:14 BST 2024 BUILD lock partitions: yes  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at c46cc363cc fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-0-1000-0-1722371054
+ git checkout -b scalability-yes-0-1000-0-1722371054
Switched to a new branch 'scalability-yes-0-1000-0-1722371054'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-0-1000-0-1722371054 251b4f05a7] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-0-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:24:49 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:24:49 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-0-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-0-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-0-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-0-1000-0-1722371054 1000 yes 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-0-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-1-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-1-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:26:05 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1'
Tue 30 Jul 21:26:05 BST 2024 BUILD lock partitions: yes  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 251b4f05a7 NUM_LOCK_PARTITIONS
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1-1000-0-1722371165
+ git checkout -b scalability-yes-1-1000-0-1722371165
Switched to a new branch 'scalability-yes-1-1000-0-1722371165'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1-1000-0-1722371165 dac91528b2] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-yes-1-1000-0-1722371165 9744ea42fe] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:26:41 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:26:41 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-1-1000-0-1722371165 1000 yes 1 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1024-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-1024-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1024-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-1024-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:27:57 BST 2024 'BUILD lock partitions: yes  fastpath groups: 1024'
Tue 30 Jul 21:27:57 BST 2024 BUILD lock partitions: yes  fastpath groups: 1024
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 9744ea42fe fastpath lock groups 1
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-1024-1000-0-1722371277
+ git checkout -b scalability-yes-1024-1000-0-1722371277
Switched to a new branch 'scalability-yes-1024-1000-0-1722371277'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-1024-1000-0-1722371277 30d4ec172d] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 1024 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1024/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1024'
[scalability-yes-1024-1000-0-1722371277 b9fdfb5078] fastpath lock groups 1024
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-1024-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:28:33 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:28:33 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-1024-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-1024-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1024-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-1024-1000-0-1722371277 1000 yes 1024 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-1024-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-8-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-8-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-8-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-8-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:29:48 BST 2024 'BUILD lock partitions: yes  fastpath groups: 8'
Tue 30 Jul 21:29:48 BST 2024 BUILD lock partitions: yes  fastpath groups: 8
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at b9fdfb5078 fastpath lock groups 1024
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-8-1000-0-1722371389
+ git checkout -b scalability-yes-8-1000-0-1722371389
Switched to a new branch 'scalability-yes-8-1000-0-1722371389'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-8-1000-0-1722371389 b09107ab97] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 8 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/8/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 8'
[scalability-yes-8-1000-0-1722371389 5a2ca5c632] fastpath lock groups 8
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-8-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:30:24 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:30:24 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-8-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-8-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-8-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-8-1000-0-1722371389 1000 yes 8 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-8-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-512-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-512-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-512-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-512-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:31:40 BST 2024 'BUILD lock partitions: yes  fastpath groups: 512'
Tue 30 Jul 21:31:40 BST 2024 BUILD lock partitions: yes  fastpath groups: 512
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 5a2ca5c632 fastpath lock groups 8
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-512-1000-0-1722371500
+ git checkout -b scalability-yes-512-1000-0-1722371500
Switched to a new branch 'scalability-yes-512-1000-0-1722371500'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-512-1000-0-1722371500 35668b63e0] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 512 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/512/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 512'
[scalability-yes-512-1000-0-1722371500 18eaaab39f] fastpath lock groups 512
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-512-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:32:15 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:32:15 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-512-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-512-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-512-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-512-1000-0-1722371500 1000 yes 512 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-512-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-128-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-128-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-128-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-yes-128-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:33:31 BST 2024 'BUILD lock partitions: yes  fastpath groups: 128'
Tue 30 Jul 21:33:31 BST 2024 BUILD lock partitions: yes  fastpath groups: 128
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 18eaaab39f fastpath lock groups 512
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-yes-128-1000-0-1722371611
+ git checkout -b scalability-yes-128-1000-0-1722371611
Switched to a new branch 'scalability-yes-128-1000-0-1722371611'
+ '[' yes == yes ']'
+ cat /mnt/data/lock-scalability-test/patches/0001-Increase-NUM_LOCK_PARTITIONS-to-64.patch
+ patch -p1
patching file src/include/storage/lwlock.h
+ git commit src -m NUM_LOCK_PARTITIONS
[scalability-yes-128-1000-0-1722371611 fc5a0d1fda] NUM_LOCK_PARTITIONS
 1 file changed, 1 insertion(+), 1 deletion(-)
+ '[' 128 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/128/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 128'
[scalability-yes-128-1000-0-1722371611 db92f2f64f] fastpath lock groups 128
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/yes-128-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:34:06 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:34:06 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/yes-128-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/yes-128-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-128-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-yes-128-1000-0-1722371611 1000 yes 128 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-yes-128-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for partitions in yes no
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-32-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-32-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-32-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-32-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:35:22 BST 2024 'BUILD lock partitions: no  fastpath groups: 32'
Tue 30 Jul 21:35:22 BST 2024 BUILD lock partitions: no  fastpath groups: 32
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at db92f2f64f fastpath lock groups 128
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-32-1000-0-1722371722
+ git checkout -b scalability-no-32-1000-0-1722371722
Switched to a new branch 'scalability-no-32-1000-0-1722371722'
+ '[' no == yes ']'
+ '[' 32 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/32/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 32'
[scalability-no-32-1000-0-1722371722 00e64cc166] fastpath lock groups 32
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-32-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:35:57 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:35:57 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/no-32-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-32-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-32-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-32-1000-0-1722371722 1000 no 32 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-32-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-0-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-0-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-0-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-0-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:37:13 BST 2024 'BUILD lock partitions: no  fastpath groups: 0'
Tue 30 Jul 21:37:13 BST 2024 BUILD lock partitions: no  fastpath groups: 0
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at 00e64cc166 fastpath lock groups 32
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-0-1000-0-1722371833
+ git checkout -b scalability-no-0-1000-0-1722371833
Switched to a new branch 'scalability-no-0-1000-0-1722371833'
+ '[' no == yes ']'
+ '[' 0 '!=' 0 ']'
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-0-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
+ cd contrib
+ make -s clean
+ make -s -j4 install
+ cd ..
+ popd
/mnt/data/lock-scalability-test
++ date
+ echo Tue 30 Jul 21:37:48 BST 2024 'RUN   files: 1000  partitions: 0'
Tue 30 Jul 21:37:48 BST 2024 RUN   files: 1000  partitions: 0
+ ulimit -a
+ export PATH=/mnt/data/builds/no-0-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ PATH=/mnt/data/builds/no-0-1000-0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games
+ pg_config
+ killall -9 postgres
postgres: no process found
+ true
+ sleep 1
+ rm -Rf /mnt/data/data-test
+ pg_ctl -D /mnt/data/data-test init
+ echo 'max_connections = 1000'
+ echo 'shared_buffers = 1GB'
+ echo 'max_locks_per_transaction = 8192'
+ echo 'max_parallel_workers_per_gather = 0'
+ echo 'random_page_cost = 1.5'
+ echo 'max_files_per_process = 1000'
+ pg_ctl -D /mnt/data/data-test -l /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-0-1000-0/pg.log start
+ psql postgres -c 'select * from pg_settings'
+ ./run-count.sh rpi5-32 scalability-no-0-1000-0-1722371833 1000 no 0 /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-0-1000-0 1 10 '1 4 8' 0
+ pg_ctl -D /mnt/data/data-test stop
+ for groups in 32 0 1 1024 8 512 128
+ LOGDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1-1000-0
+ RESULTDIR=/mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-1-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/logs/count-no-1-1000-0
+ mkdir -p /mnt/data/lock-scalability-test/20240730-1249-glibc-default/results/count-no-1-1000-0
+ env
++ date
+ echo Tue 30 Jul 21:39:04 BST 2024 'BUILD lock partitions: no  fastpath groups: 1'
Tue 30 Jul 21:39:04 BST 2024 BUILD lock partitions: no  fastpath groups: 1
+ pushd /mnt/data/postgres
/mnt/data/postgres /mnt/data/lock-scalability-test
+ git reset --hard
HEAD is now at da4017a694 Doc: fix text's description of regexp_replace's arguments.
+ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
+ git clean -f -d -x
++ date +%s
+ BRANCH=scalability-no-1-1000-0-1722371944
+ git checkout -b scalability-no-1-1000-0-1722371944
Switched to a new branch 'scalability-no-1-1000-0-1722371944'
+ '[' no == yes ']'
+ '[' 1 '!=' 0 ']'
+ cat /mnt/data/lock-scalability-test/patches/0002-Increase-the-number-of-fastpath-locks.patch
+ sed s/MY_PLACEHOLDER/1/
+ patch -p1
patching file src/backend/storage/lmgr/lock.c
patching file src/include/storage/proc.h
+ git commit src -m 'fastpath lock groups 1'
[scalability-no-1-1000-0-1722371944 99ef1f8f63] fastpath lock groups 1
 2 files changed, 116 insertions(+), 27 deletions(-)
+ git log
+ head -n 1000
+ CC='ccache gcc'
+ ./configure --prefix=/mnt/data/builds/no-1-1000-0 --enable-debug --enable-depend
+ make -s clean
+ make -s -j4 install
lock.c: In function ‘LockAcquireExtended’:
lock.c:926:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
  926 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘LockRelease’:
lock.c:2081:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2081 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGrantRelationLock’:
lock.c:2669:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2669 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathUnGrantRelationLock’:
lock.c:2721:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2721 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘FastPathGetRelationLockEntry’:
lock.c:2866:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2866 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
lock.c: In function ‘GetLockConflicts’:
lock.c:2989:17: warning: ‘memset’ used with length equal to number of elements without multiplication by element size [-Wmemset-elt-size]
 2989 |                 memset(FastPathLocalUseCounts, 0, sizeof(FastPathLocalUseInitialized));
      |                 ^~~~~~
